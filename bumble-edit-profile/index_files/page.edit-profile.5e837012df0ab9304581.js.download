(("undefined"!=typeof self?self:window).webpackJsonp=("undefined"!=typeof self?self:window).webpackJsonp||[]).push([[32],{"+NjY7gmqb+":function(e,t,n){"use strict";var o=n("9GUcjdVPnP"),i=n("OqRjbVpXKo"),r=n("oYCi4R4rJs");t.a=function(e){var t=e.children,n=e.onClickClose;return Object(r.jsxs)("header",{className:"page__content-header",children:[Object(r.jsx)("div",{className:"page__content-header-inner",children:Object(r.jsx)(i.c,{color:i.h.BLACK,children:t})}),n?Object(r.jsx)("div",{className:"page__content-header-menu",children:Object(r.jsx)("div",{className:"page__content-header-menu-item",role:"button",onClick:n,children:Object(r.jsx)(o.c,{name:"generic-close",size:o.b.STRETCH})})}):null]})}},"01/aLUI1rk":function(e,t,n){"use strict";n("iPZ8B0oZUk"),n("kyplkxTicy"),n("lmyezyidMT"),n("4GBKsl2+Y1"),n("o9/unwMfsF"),n("AHPpkZB9TV"),n("JBxOP7zbvP"),n("pCzDN4nc5Q"),n("/YXaeDbEiY"),n("WoWjrUNJNV"),n("U00V424mVC");var o=n("mXGwGrsBCQ"),i=n("8JekaVitUM"),r=n.n(i),a=n("OqRjbVpXKo"),c=n("oYCi4R4rJs"),s=function(e){var t=e.title,n=e.description,o=e.onClick,i=e.children;return Object(c.jsxs)("header",{className:"settings-section__header",onClick:o,children:[t&&Object(c.jsx)("div",{className:"settings-section__title","data-qa-role":"settings-section-title",children:Object(c.jsx)(a.c,{tag:a.i.H1,children:t})}),n&&Object(c.jsx)("div",{className:"settings-section__description","data-qa-role":"settings-section-description",children:Object(c.jsx)(a.e,{tag:a.i.P,color:a.h.GRAY_DARK,children:n})}),i]})},l=n("9GUcjdVPnP"),u=n("l4yB/TqwYL"),p=n("35vpuKlNPA");function h(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.deferredResizeCallback=Object(p.throttle)(t,50,this)}var t,n,o;return t=e,(n=[{key:"observe",value:function(e){this.getMutationObserver().observe(e,this.getMutationObserverConfig())}},{key:"unobserve",value:function(){this.getMutationObserver().disconnect(),this.deferredResizeCallback.clear()}},{key:"getMutationObserver",value:function(){return this.mutationObserver||(this.mutationObserver=new MutationObserver(this.handleMutationObserverEvent.bind(this))),this.mutationObserver}},{key:"getMutationObserverConfig",value:function(){return{attributes:!0,childList:!0,characterData:!0,subtree:!0}}},{key:"handleMutationObserverEvent",value:function(){this.deferredResizeCallback()}}])&&h(t.prototype,n),o&&h(t,o),e}();function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(p,e);var t,n,i,a=m(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),t=a.call(this,e),Object(u.a)(g(t)),t.state={height:0},t.sectionRef=Object(o.createRef)(),t.contentRef=Object(o.createRef)(),t.resizeObserver=new f(t.handleHeightChange),t}return t=p,(n=[{key:"componentDidMount",value:function(){this.resizeObserver.observe(this.contentRef.current),this.resizeObserver.observe(this.sectionRef.current)}},{key:"componentDidUpdate",value:function(){this.handleHeightChange()}},{key:"componentWillUnmount",value:function(){this.resizeObserver.unobserve(this.sectionRef.current),this.resizeObserver.unobserve(this.contentRef.current)}},{key:"handleHeightChange",value:function(){var e=this.contentRef.current&&this.contentRef.current.getClientRects()[0];e&&this.state.height!==e.height&&this.setState({height:e.height})}},{key:"render",value:function(){var e,t,n,i=this.props,a=i.children,u=i.description,p=i.hasError,h=i.isOpened,f=void 0!==h&&h,d=i.isSingle,b=void 0!==d&&d,v=i.onClick,m=i.promotion,y=i.title,g=i.qaRole,j=void 0===g?"settings-section":g,x=r()({"settings-section":!0,"has-error":p,"is-opened":f&&!b,"is-single":b});return Object(c.jsxs)("section",{className:x,onClick:f?void 0:v,"data-qa-role":j,ref:this.sectionRef,children:[Object(c.jsx)(s,{title:y,description:u,onClick:b?void 0:v,children:Object(c.jsxs)("span",{className:"settings-section__icon",role:"presentation",children:[!b&&(!p||f)&&Object(c.jsx)(l.c,{name:"generic-chevron-down",size:l.b.MEDIUM,additionalClass:"settings-section__open-handler"}),p&&!f&&Object(c.jsx)(l.c,{additionalClass:"settings-section__error-sign",size:l.b.MEDIUM,name:"badge-attention"})]})}),f&&m&&Object(c.jsx)("div",{className:"settings-section__promotion",children:m}),Object(c.jsx)("div",{className:"settings-section__main",style:(e={},t="--settings-section-content-height",n="".concat(this.state.height,"px"),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),children:Object(c.jsx)("div",{className:"settings-section__content",ref:this.contentRef,children:o.Children.map(a,(function(e,t){return e?Object(c.jsx)("div",{className:"settings-section__entry",children:e},t):null}))})})]})}}])&&b(t.prototype,n),i&&b(t,i),p}(o.PureComponent);t.a=x},"1gq9ySgZP/":function(e,t,n){"use strict";n("D/wGABBNCG");var o=n("N+O1k+rBgJ"),i=n("h00w3ezSkA"),r=n("oYCi4R4rJs");t.a=function(e){var t=e.isActive,n=e.isChecked,a=e.label,c=e.name,s=e.onChange,l=e.qaRole,u=e.isDisabled;return Object(r.jsx)(o.c,{control:Object(r.jsx)(i.a,{isActive:n||t,name:c,onChange:s,isDisabled:u,qaRole:l?"".concat(l,"-control"):void 0}),label:a,type:o.b.TOGGLE,qaRole:l,isDisabled:u,isActive:t})}},"F876B/L7sa":function(e,t,n){"use strict";var o=n("OqRjbVpXKo"),i=n("oYCi4R4rJs");t.a=function(e){var t=e.text,n=e.qaRole;return Object(i.jsx)("div",{className:"notice","data-qa-role":n||"notice",children:Object(i.jsx)(o.e,{align:o.g.CENTER,children:t})})}},JxpLN2NqSp:function(e,t,n){"use strict";n("Muwex4Vzhy"),n("X5mX7IMldd"),n("4GBKsl2+Y1"),n("o9/unwMfsF"),n("AHPpkZB9TV"),n("iPZ8B0oZUk"),n("kyplkxTicy"),n("JBxOP7zbvP"),n("pCzDN4nc5Q"),n("/YXaeDbEiY"),n("WoWjrUNJNV"),n("U00V424mVC");var o,i,r=n("mXGwGrsBCQ"),a=n("l4yB/TqwYL"),c=(n("D/wGABBNCG"),n("8JekaVitUM")),s=n.n(c),l=n("Zi8PChfd6/"),u=n("xMUAXvDo2A"),p=n("xK5QEMC6tg"),h=n("RtOYU8kv7N"),f=n("x5yvPt+Oa8"),d=n("oYCi4R4rJs");function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.DEFAULT="",e.FULL_ROUNDED="FULL_ROUNDED"}(i||(i={}));var v=(b(o={},i.DEFAULT,""),b(o,i.FULL_ROUNDED,"search-field--full-rounded"),o),m=function(e){var t=e.id,n=e.name,o=e.value,r=e.dropdownOptions,a=e.hint,c=e.hasHintVisible,m=void 0===c||c,y=e.isHovered,g=e.isFocused,j=e.isLoading,x=e.hasAutoFocus,O=e.hasError,k=e.placeholder,w=e.shape,S=void 0===w?i.FULL_ROUNDED:w,C=e.isDropdownActive,E=e.onChange,_=e.onFocus,A=e.onBlur,P=e.onClick,R=e.onMouseDown,L=e.onMouseUp,T=e.qaRole,D={block:s()(b({"search-field":!0,"is-hovered":y,"is-focused":g,"is-loading":j,"has-error":O},v[S],!0))};return Object(d.jsxs)("div",{className:D.block,children:[Object(d.jsx)("div",{className:"search-field__inner",children:Object(d.jsx)(p.b,{value:o,placeholder:k,id:t,name:n,onChange:E,onFocus:_,onBlur:A,onClick:P,onMouseDown:R,onMouseUp:L,hasAutoFocus:x,qaRole:T})}),Object(d.jsx)("div",{className:"search-field__dropdown",children:Object(d.jsx)(l.a,{isActive:C,hint:a,hasHintVisible:m,children:Object(d.jsx)(h.b,{type:h.a.DYNAMIC,children:Object(d.jsx)(u.a,{children:r})})})}),j&&Object(d.jsx)("div",{className:"search-field__loading",children:Object(d.jsx)(f.d,{size:f.c.SMALL})})]})};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(r,e);var t,n,o,i=x(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(a.a)(k(t)),t.state={isFocused:!1,isDropdownActive:!1},t}return t=r,(n=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentMouseDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentMouseDown)}},{key:"componentDidUpdate",value:function(e){var t=e.options||[],n=this.props.options||[];0===t.length&&n.length>0?this.openDropDown():0===n.length&&this.closeDropDown()}},{key:"render",value:function(){var e=this.props,t=e.search,n=e.options,o=e.hasAutoFocus,i=e.placeholderText,r=e.hint,a=e.isHintVisible,c=e.isLoading,s=this.state,l=s.isDropdownActive,u=s.isFocused;return Object(d.jsx)(m,{isLoading:c,value:t||"",placeholder:i,hint:r,isDropdownActive:Boolean(l||a),isFocused:u,hasAutoFocus:o,hasHintVisible:a,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onClick:this.handleFieldMouseDown,onChange:this.handleChangeSearchText,dropdownOptions:n})}},{key:"openDropDown",value:function(){this.setState({isDropdownActive:!0})}},{key:"closeDropDown",value:function(){this.setState({isDropdownActive:!1})}},{key:"handleInputFocus",value:function(){this.setState({isFocused:!0}),this.props.options&&this.props.options.length>0&&this.openDropDown(),this.props.onFocus&&this.props.onFocus()}},{key:"handleInputBlur",value:function(){this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur()}},{key:"handleChangeSearchText",value:function(e){this.props.onSearchTextChange&&this.props.onSearchTextChange(e.target.value)}},{key:"handleFieldMouseDown",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()}},{key:"handleDocumentMouseDown",value:function(){this.closeDropDown()}}])&&g(t.prototype,n),o&&g(t,o),r}(r.PureComponent);t.a=S},WVq6Qd6b8m:function(e,t,n){"use strict";n("lmyezyidMT");var o=n("mXGwGrsBCQ"),i=n("8JekaVitUM"),r=n.n(i),a=n("x5yvPt+Oa8"),c=n("qmhRi14zPu"),s=n("OqRjbVpXKo"),l=n("oYCi4R4rJs");t.a=function(e){var t,n,i,u=e.title,p=e.heading,h=void 0===p?null:p,f=e.notice,d=e.hint,b=e.isLoading,v=void 0!==b&&b,m=e.hasError,y=void 0!==m&&m,g=e.qaRole,j=void 0===g?"settings-fieldset":g,x=e.children,O=e.type,k=e.onHeaderClick,w=e.state,S=r()((t={"settings-fieldset":!0,"is-loading":v,"has-error":y},n="settings-fieldset--".concat(O),i=O,n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t),w);return Object(l.jsxs)("section",{className:S,"data-qa-role":O?"".concat(O,"-fieldset"):j,children:[(u||h)&&Object(l.jsxs)("header",{className:"settings-fieldset__header",children:[u&&Object(l.jsx)("div",{className:"settings-fieldset__title",onClick:k,"data-qa-role":O?"".concat(O,"-fieldset-title"):"".concat(j,"-title"),children:Object(l.jsx)(s.d,{tag:s.i.H2,color:s.h.GRAY_DARK,children:u})}),Object(o.isValidElement)(h)&&h]}),f&&Object(l.jsx)("div",{className:"settings-fieldset__notice",children:f}),Object(l.jsx)("div",{className:"settings-fieldset__main",children:o.Children.map(x,(function(e,t){return Object(o.isValidElement)(e)?Object(l.jsx)("div",{className:"settings-fieldset__field",children:e},"settings-fieldset-field-".concat(t)):null}))}),d?Object(l.jsx)("div",{className:"settings-fieldset__hint",children:Array.isArray(d)?d.map((function(e,t){return Object(l.jsx)("div",{className:"settings-fieldset__hint-item",children:Object(l.jsx)(c.c,{color:c.b.GRAY_DARK,children:e})},t)})):Object(l.jsx)(c.c,{color:c.b.GRAY_DARK,children:d})}):null,v&&Object(l.jsx)("div",{className:"settings-fieldset__loader",children:Object(l.jsx)(a.d,{color:a.a.PRIMARY})})]})}},h00w3ezSkA:function(e,t,n){"use strict";n("D/wGABBNCG");var o=n("8JekaVitUM"),i=n.n(o),r=n("oYCi4R4rJs");t.a=function(e){var t=e.name,n=e.value,o=e.isActive,a=e.isDisabled,c=e.onChange,s=e.qaRole,l="is-released";a?l="is-disabled":o&&(l="is-checked");var u={block:i()({toggle:!0,"is-active":o,"is-disabled":a})};return Object(r.jsxs)("span",{className:u.block,"data-qa-role":s||"toggle","data-qa-status":l,children:[Object(r.jsx)("input",{className:"toggle__input",type:"checkbox",name:t,value:n,checked:o,disabled:a,onChange:a?void 0:c}),Object(r.jsx)("span",{className:"toggle__bar"}),Object(r.jsx)("span",{className:"toggle__slider"})]})}},hhYsBBMwDx:function(e,t,n){"use strict";n.r(t);n("/YXaeDbEiY"),n("JBxOP7zbvP"),n("RsMTImcfju"),n("WoWjrUNJNV"),n("U00V424mVC"),n("x3BrP8k+5x"),n("D/wGABBNCG"),n("lYjLuJdqOl"),n("hi3gYeY/aR"),n("Muwex4Vzhy"),n("X5mX7IMldd"),n("4GBKsl2+Y1"),n("o9/unwMfsF"),n("AHPpkZB9TV"),n("iPZ8B0oZUk"),n("kyplkxTicy"),n("pCzDN4nc5Q"),n("4owia7sFJk"),n("WB5jUiecWZ");var o,i,r,a,c,s=n("mXGwGrsBCQ"),l=n("/m4vvRoyzg"),u=n("cnbfrf4wFI"),p=n("n6dFYfBoFk"),h=n("oYCi4R4rJs"),f={get lxTitleAbout(){return Object(h.jsx)(p.Lexeme,{path:484,pathName:"bma_client@pages.profile-edit.section.about.title"})},get lxTitleInfo(){return Object(h.jsx)(p.Lexeme,{path:486,pathName:"bma_client@pages.profile-edit.section.info.title"})},get lxTitleWork(){return Object(h.jsx)(p.Lexeme,{path:488,pathName:"bma_client@pages.profile-edit.section.work.title"})},get lxAlertEmpty(){return Object(h.jsx)(p.Lexeme,{path:582,pathName:"bma_client@profile-edit.occupation.alert.empty"})},get lxTitleLinked(){return Object(h.jsx)(p.Lexeme,{path:487,pathName:"bma_client@pages.profile-edit.section.linked.title"})},get lxMoveMakers(){return Object(h.jsx)(p.Lexeme,{path:537,pathName:"bma_client@pages.settings.profile-edit.move-makers.title"})},get lxSubtitle0(){return Object(h.jsx)(p.Lexeme,{path:532,pathName:"bma_client@pages.settings.profile-edit.move-makers.subtitle0"})},get lxSubtitle2(){return Object(h.jsx)(p.Lexeme,{path:533,pathName:"bma_client@pages.settings.profile-edit.move-makers.subtitle2"})},get lxSubtitle3(){return Object(h.jsx)(p.Lexeme,{path:534,pathName:"bma_client@pages.settings.profile-edit.move-makers.subtitle3"})},get lxSubtitle3bizz(){return Object(h.jsx)(p.Lexeme,{path:535,pathName:"bma_client@pages.settings.profile-edit.move-makers.subtitle3-bizz"})}},d=n("rPil3VbLPc"),b=n("l4yB/TqwYL"),v=n("e1haGxN03q"),m=n("Nk7B0+GJo1"),y=n("uhrmdUFdM6"),g=n("7tNGFGbP3H"),j=n("DyPQmxITIw"),x=n("sDECHTu8t4"),O=n("gieWt0GPHU"),k=n("+NjY7gmqb+"),w={get lxDate(){return Object(h.jsx)(p.Lexeme,{path:492,pathName:"bma_client@pages.profile.title.date",children:"Date profile"})},get lxBff(){return Object(h.jsx)(p.Lexeme,{path:490,pathName:"bma_client@pages.profile.title.bff",children:"Bff profile"})},get lxBizz(){return Object(h.jsx)(p.Lexeme,{path:491,pathName:"bma_client@pages.profile.title.bizz",children:"Bizz profile"})}},S=n("x5yvPt+Oa8"),C=n("RtOYU8kv7N"),E=n("jjoXm2MUfJ");var _=(a={},(c={})[o=E.i.DATING]=c[o]||{},c[o].get=function(){return w.lxDate},c[i=E.i.BFF]=c[i]||{},c[i].get=function(){return w.lxBff},c[r=E.i.BIZZ]=c[r]||{},c[r].get=function(){return w.lxBizz},function(e,t){for(var n in t){(r=t[n]).configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),i=0;i<o.length;i++){var r,a=o[i];(r=t[a]).configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a,r)}}(a,c),a),A=function(e){var t=e.children,n=e.isLoading,o=e.gameMode,i=e.onClickClose;return Object(h.jsx)(O.a,{children:Object(h.jsxs)("main",{className:"page__content",children:[Object(h.jsx)(k.a,{onClickClose:i,children:void 0!==o?_[o]:null}),Object(h.jsx)(C.b,{children:Object(h.jsx)("div",{className:"page__content-inner",children:n?Object(h.jsx)(S.d,{shape:S.b.LOGO,size:S.c.LARGE,color:S.a.PRIMARY}):t})})]})})},P=n("01/aLUI1rk"),R=n("F876B/L7sa"),L=(n("y89PVpHR2T"),n("4v21zXkyfD")),T=n("CS2RS0uSuV"),D={get lxLimitReached(){return Object(h.jsx)(p.Lexeme,{path:559,pathName:"bma_client@profile-edit.about-me.limit-reached"})},getLxLimitProgress:function(e){return Object(h.jsx)(p.Lexeme,{path:558,params:e,pathName:"bma_client@profile-edit.about-me.limit-progress"})}},I=n("kZ0/W0wPqZ"),M=n("wXXpwsGWjr"),N=n("JwY/K0ReYa"),F=n("WVq6Qd6b8m"),B=n("OxCAHTZzgM"),q=n("OqRjbVpXKo"),V=function(e){var t=e.title,n=e.textArea,o=e.alertText,i=e.isActive,r=e.isSaveDisabled,a=e.hasError,c=e.counter,l=e.onClickCancel,u=e.onClickSave;return Object(h.jsxs)(F.a,{title:t,type:E.l.ABOUT,notice:o&&Object(h.jsx)(R.a,{text:o}),hasError:a,children:[n,i&&Object(h.jsxs)(s.Fragment,{children:[c&&Object(h.jsx)("div",{className:"counter",children:Object(h.jsx)(q.d,{align:q.g.CENTER,color:q.h.GRAY_DARK,children:c})}),Object(h.jsxs)(B.c,{children:[Object(h.jsx)(N.e,{text:M.a.lxCancelCta,styling:N.b.TRANSPARENT,onClick:l,qaRole:"profile-edit-about-cancel"}),Object(h.jsx)(N.e,{text:M.a.lxSaveCta,onClick:u,qaRole:"profile-edit-about-save",isDisabled:r})]})]})]})},U=n("ThfANdXde/");function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=X(e);if(t){var i=X(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return W(this,n)}}function W(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(r,e);var t,n,o,i=Y(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(J(t)),t.state={value:e.option.displayValue},t}return t=r,(n=[{key:"render",value:function(){var e=this.props.option;return Object(h.jsx)(T.a,{onElementVisible:this.handleElementVisible,children:Object(h.jsx)(V,{title:this.props.title,textArea:Object(h.jsx)(L.a,{placeholder:e.helpText,value:this.state.value,onFocus:this.handleFocus,onInput:this.handleInput,hasAutoHeight:!0,maxLength:this.props.option.maxChars,qaRole:"profile-edit-about"}),isActive:this.props.expanded,counter:this.getCharactersLimitHint(),onClickSave:this.handleSave,onClickCancel:this.handleCancel})})}},{key:"getCharactersLimitHint",value:function(){var e=this.props.option.maxChars,t=e-this.state.value.length,n=void 0;return t<=0?n=D.lxLimitReached:t<e&&(n=D.getLxLimitProgress({num:t})),n}},{key:"cleanup",value:function(e){return e.replace(/[\n]{2,}/g,"\n").replace(/[ \t]{2,}/," ")}},{key:"handleInput",value:function(e){this.setState({value:this.cleanup(e)})}},{key:"handleFocus",value:function(){this.props.actions.setExpanded(!0),this.props.hotpanel.click(35)}},{key:"handleCancel",value:function(){this.setState({value:this.props.option.displayValue}),this.props.hotpanel.click(113,35),this.props.actions.setExpanded(!1)}},{key:"handleSave",value:function(){var e=this.props,t=e.userId,n=e.gameMode;this.props.hotpanel.click(117,35),t&&void 0!==n&&this.props.actions.saveAboutMe(t,this.state.value,n)}},{key:"handleElementVisible",value:function(){this.props.hotpanel.viewElement(35)}}])&&z(t.prototype,n),o&&z(t,o),r}(s.Component);var Q=Object(l.d)((function(e){return{expanded:e.editProfile.aboutMe.expanded,isLoading:e.editProfile.aboutMe.isLoading,userId:e.user.id,gameMode:e.user.gameMode}}),(function(e){return{actions:Object(u.b)({setExpanded:I.c,saveAboutMe:I.b},e),hotpanel:Object(u.b)({click:j.d,viewElement:j.bb},e)}}))(Object(U.lexemeParser)(K)),Z=(n("SgDDY6XZ+z"),n("l/s3FrBPiM")),$={get lxAboutMeTitle(){return Z.a.get(48)},getLxEditProfileTitle:function(e){return Z.a.get(78,e)},get lxLimitReached(){return Object(h.jsx)(p.Lexeme,{path:559,pathName:"bma_client@profile-edit.about-me.limit-reached"})},getLxLimitProgress:function(e){return Object(h.jsx)(p.Lexeme,{path:558,params:e,pathName:"bma_client@profile-edit.about-me.limit-progress"})}},ee=n("ZLPXnR/5eD"),te=function(e){var t=e.title,n=e.textArea,o=e.alertText,i=e.isActive,r=e.isDisabled,a=e.hasError,c=e.counter,l=e.onClickCancel,u=e.onClickSave;return Object(h.jsxs)(F.a,{title:t,type:E.l.HEADLINE,notice:o&&Object(h.jsx)(R.a,{text:o}),hasError:a,children:[n,i&&Object(h.jsxs)(s.Fragment,{children:[c&&Object(h.jsx)("div",{className:"counter",children:Object(h.jsx)(q.d,{align:q.g.CENTER,color:q.h.GRAY_DARK,children:c})}),Object(h.jsxs)(B.c,{children:[Object(h.jsx)(N.e,{text:M.c.lxCancelCta,styling:N.b.TRANSPARENT,onClick:l,qaRole:"profile-edit-headline-cancel"}),Object(h.jsx)(N.e,{text:M.c.lxSaveCta,onClick:u,isDisabled:r,qaRole:"profile-edit-headline-save"})]})]})]})};function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=se(e);if(t){var i=se(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ae(this,n)}}function ae(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?ce(e):t}function ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(r,e);var t,n,o,i=re(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(ce(t));var n=e.option.displayValue,o=t.getAlert(n);return t.state={value:n,alert:o},t}return t=r,(n=[{key:"render",value:function(){var e=this.props.option;return Object(h.jsx)(T.a,{onElementVisible:this.handleElementVisible,children:Object(h.jsx)(te,{title:e.name,textArea:Object(h.jsx)(L.a,{placeholder:e.helpText,value:this.state.value,onFocus:this.handleFocus,onInput:this.handleInput,hasAutoHeight:!0,maxLength:this.props.option.maxChars,qaRole:"profile-edit-headline"}),isActive:this.props.expanded,counter:this.getCharactersLimitHint(),onClickSave:this.handleSave,onClickCancel:this.handleCancel,hasError:Boolean(this.state.alert),alertText:this.state.alert,isDisabled:0===this.state.value.trim().length})})}},{key:"getAlert",value:function(e){var t=this.getValueLength(e),n=this.props.option.minChars||0;return t<n?0===t?$.lxAboutMeTitle:$.getLxEditProfileTitle({num:n-t}):null}},{key:"getValueLength",value:function(e){return e.length===this.props.option.minChars&&" "===e[e.length-1]?e.trim().length:e.length}},{key:"getCharactersLimitHint",value:function(){var e=this.getValueLength(this.state.value),t=this.props.option.minChars||0,n=(this.props.option.maxChars||0)-e;return n<=0?$.lxLimitReached:e<t?"".concat(e,"/").concat(t):n<=50?$.getLxLimitProgress({num:n}):null}},{key:"cleanup",value:function(e){return e.replace(/\n/g,"").replace(/[\s]{2,}/," ").replace(/^ /,"")}},{key:"handleInput",value:function(e){this.setState({value:this.cleanup(e)})}},{key:"handleFocus",value:function(){this.props.actions.setExpanded(!0),this.props.hotpanel.click(529)}},{key:"handleCancel",value:function(){var e=this.props.option.displayValue,t=this.getAlert(e);this.setState({alert:t,value:e}),this.props.hotpanel.click(113,529),this.props.actions.setExpanded(!1)}},{key:"handleSave",value:function(){var e=this.getAlert(this.state.value);if(this.setState({alert:e}),!e){var t=this.props,n=t.userId,o=t.gameMode;this.props.hotpanel.click(117,529),this.props.actions.saveHeadline(n,this.state.value,o)}}},{key:"handleElementVisible",value:function(){this.props.hotpanel.viewElement(529)}}])&&oe(t.prototype,n),o&&oe(t,o),r}(s.Component);var ue=Object(l.d)((function(e){return{expanded:e.editProfile.headline.expanded,isLoading:e.editProfile.headline.isLoading,userId:e.user.id,gameMode:e.user.gameMode}}),(function(e){return{actions:Object(u.b)({setExpanded:ee.c,saveHeadline:ee.b},e),hotpanel:Object(u.b)({click:j.d,viewElement:j.bb},e)}}))(Object(U.lexemeParser)(le)),pe=(n("lmyezyidMT"),n("c6SdjCNyCy")),he=n("9GUcjdVPnP"),fe=function(e){var t=e.data;return Object(h.jsx)(F.a,{children:t.map((function(e,t){var n=e.label,o=e.labelMedia,i=e.value,r=e.id,a=e.onClick;return Object(h.jsx)(pe.b,{label:n,labelMedia:Object(h.jsx)("img",{src:o,role:"presentation"}),value:i,onClick:a,actionIcon:i?void 0:Object(h.jsx)(he.c,{name:"generic-plus",size:he.b.MEDIUM}),qaRole:r?"settings-cell-".concat(r):"settings-cell"},t)}))})},de=n("3EKlAOgSCm"),be=n("dwd2bOR3UF"),ve=n("1gq9ySgZP/"),me=n("XPJ/YdBlf3"),ye=n("y0sO5gT95v"),ge=function(e){var t=e.children,n=e.alertText,o=e.isLoading,i=e.controlAddLabel,r=e.onControlAddClick,a=e.title;return Object(h.jsxs)(F.a,{isLoading:o,notice:n&&Object(h.jsx)(R.a,{text:n}),title:a,type:E.l.GENDER,children:[t,r&&Object(h.jsx)(N.e,{view:N.d.ACTION,isNarrow:!1,styling:N.b.CELL,text:i,onClick:r,icon:Object(h.jsx)(he.c,{name:"generic-chevron-right-aligned",size:he.b.MEDIUM})})]})},je=function(e){var t=e.control,n=e.title,o=e.onOptionClick;return Object(h.jsx)(pe.b,{onClick:o,labelMedia:t,label:n,styling:pe.a.TALL,qaRole:"settings-cell-gender-entry"})},xe=n("RNSSTPnvpt"),Oe=n("ap/jTEmZok"),ke=n("ikHk4EIyfy"),we=n("7OGA7lbKpR"),Se=n("ov52prWiqO"),Ce=n("Hcjmhy8E0y"),Ee=n("xhgmEGOjTz"),_e=n("F1zEP8sx7A"),Ae={get lxMale(){return Object(h.jsx)(p.Lexeme,{path:21,pathName:"genders@man"})},get lxFemale(){return Object(h.jsx)(p.Lexeme,{path:22,pathName:"genders@woman"})},get lxSectionTitle(){return Object(h.jsx)(p.Lexeme,{path:574,pathName:"bma_client@profile-edit.basic-info.gender.title"})},get lxMoreOptions(){return Object(h.jsx)(p.Lexeme,{path:563,pathName:"bma_client@profile-edit.basic-info.gender.more-options"})},get lxShowInSearchAsTitle(){return Object(h.jsx)(p.Lexeme,{path:570,pathName:"bma_client@profile-edit.basic-info.gender.show-in-searches.title"})},get lxSearchesWomen(){return Z.a.get(571)},get lxSearchesMen(){return Z.a.get(568)},get lxPrivacyTitle(){return Object(h.jsx)(p.Lexeme,{path:566,pathName:"bma_client@profile-edit.basic-info.gender.privacy.title"})},get lxPrivacyLabel(){return Object(h.jsx)(p.Lexeme,{path:565,pathName:"bma_client@profile-edit.basic-info.gender.privacy.label"})},get lxPrivacyHint(){return Z.a.get(564)},get lxChangeTwice(){return Object(h.jsx)(p.Lexeme,{path:562,pathName:"bma_client@profile-edit.basic-info.gender.change-twice"})},get lxChangeOnce(){return Object(h.jsx)(p.Lexeme,{path:561,pathName:"bma_client@profile-edit.basic-info.gender.change-once"})},get lxSupportTitle(){return Object(h.jsx)(p.Lexeme,{path:573,pathName:"bma_client@profile-edit.basic-info.gender.support.title"})},getLxSupportDescription:function(e){return Z.a.get(572,e)}};function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Me(e);if(t){var i=Me(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return De(this,n)}}function De(e,t){return!t||"object"!==Pe(t)&&"function"!=typeof t?Ie(e):t}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(r,e);var t,n,o,i=Te(r);function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(Ie(t));var n,o,a=t.props.extendedGender,c=4;return(null==a?void 0:a.name)?n=a:c=t.props.gender,(null==a?void 0:a.show_me_in_searches_as)&&(o=a.show_me_in_searches_as),t.state={showMyGender:Boolean(t.props.appSettings.privacyShowGender),showMeInSearchesAs:o,gender:c,genderItem:n,genderText:""},t}return t=r,(n=[{key:"componentDidMount",value:function(){this.props.extendedGenders||this.props.actions.fetchGendersResources(25),this.props.hotpanel.viewScreen(315)}},{key:"render",value:function(){var e=4===this.state.gender&&void 0!==this.state.showMeInSearchesAs;return Object(h.jsxs)(s.Fragment,{children:[this.renderGenderControl(),e&&this.renderShowInSearchesSwitcher(),4===this.state.gender&&this.renderShowIdentityToggle()]})}},{key:"renderGenderControl",value:function(){var e;if(4===this.state.gender){var t=this.state.genderItem?this.state.genderItem.name:this.state.genderText;e=[Object(h.jsx)(je,{title:t,control:Object(h.jsx)(xe.a,{isActive:!0})},4)]}else e=[Object(h.jsx)(je,{title:Ae.lxFemale,onOptionClick:this.handleChangeGender.bind(this,2),control:Object(h.jsx)(xe.a,{isActive:2===this.state.gender})},2),Object(h.jsx)(je,{title:Ae.lxMale,onOptionClick:this.handleChangeGender.bind(this,1),control:Object(h.jsx)(xe.a,{isActive:1===this.state.gender})},1)];var n=null;switch(this.props.genderChangeLimit){case 2:n=Ae.lxChangeTwice;break;case 1:n=Ae.lxChangeOnce}return Object(h.jsx)(ge,{title:Ae.lxSectionTitle,controlAddLabel:Ae.lxMoreOptions,onControlAddClick:this.handleShowMoreOptions,alertText:n,children:e})}},{key:"renderShowInSearchesSwitcher",value:function(){var e=this,t=[{value:2,label:Ae.lxSearchesWomen},{value:1,label:Ae.lxSearchesMen}];return Object(h.jsx)(F.a,{title:Ae.lxShowInSearchAsTitle,children:Object(h.jsx)(me.a,{name:"show-in-searches",currentOption:this.state.showMeInSearchesAs,children:t.map((function(t){var n=t.value,o=t.label;return Object(h.jsx)(ye.a,{value:n,label:o,content:o,onChange:e.handleSaveShowMeAs.bind(e,n)},n)}))})})}},{key:"renderShowIdentityToggle",value:function(){return Object(h.jsx)(F.a,{title:Ae.lxPrivacyTitle,hint:Ae.lxPrivacyHint,children:Object(h.jsx)(ve.a,{label:Ae.lxPrivacyLabel,onChange:this.handleShowMyGender,name:"privacy",isActive:this.state.showMyGender})})}},{key:"handleChangeGender",value:function(e){this.props.allowChangeGender?this.state.gender!==e&&(this.setState({gender:e}),this.props.userId&&this.props.actions.saveUserGender({gender:e,userId:this.props.userId})):this.showNotAllowDialog()}},{key:"handleShowMoreOptions",value:function(){this.props.hotpanel.click(182),this.props.allowChangeGender?this.props.actions.showDialog(ke.a,{onSelect:this.handleSelectGenderInDialog,activeItem:this.state.genderItem,screenName:763,activationPlace:244},{isLocal:!0}):this.showNotAllowDialog()}},{key:"handleSelectGenderInDialog",value:function(e,t,n,o){this.setState({gender:4,genderItem:e,genderText:t,showMeInSearchesAs:o}),this.saveExtendedGender(e,o),e.uid===ke.b&&this.props.actions.reportOwnGender(t,n)}},{key:"handleSaveShowMeAs",value:function(e){this.setState({showMeInSearchesAs:e}),this.state.genderItem&&this.saveExtendedGender(this.state.genderItem,e)}},{key:"handleShowMyGender",value:function(e){var t=e.target.checked;t?this.props.hotpanel.click(1097):this.props.hotpanel.click(1098),this.props.actions.saveShowGender(t),this.setState({showMyGender:t})}},{key:"saveExtendedGender",value:function(e,t){this.props.actions.saveUserExtendedGender({userId:this.props.userId,gender:e,showMeInSearchesAs:t})}},{key:"showNotAllowDialog",value:function(){var e=Ae.getLxSupportDescription({link:String(new Se.a)}),t=Object(h.jsx)(_e.a,{html:e});this.props.actions.showDialog(Ee.a,{title:Ae.lxSupportTitle,message:t})}}])&&Re(t.prototype,n),o&&Re(t,o),r}(s.Component);var Fe=Object(l.d)((function(e){var t=e.user,n=t.genderChangeLimit,o=t.gender,i=t.extendedGender;return{userId:t.id,extendedGender:i,genderChangeLimit:n,gender:o,extendedGenders:e.editProfile.genders.extendedGenders,appSettings:e.app.appSettings,allowChangeGender:n&&n>0}}),(function(e){return{actions:Object(u.b)({showDialog:de.e,hideDialog:de.b,fetchGendersResources:Oe.b,saveShowGender:we.h,saveUserGender:Ce.g,saveUserExtendedGender:Ce.f,reportOwnGender:Ce.c},e),hotpanel:Object(u.b)({click:j.d,fireEvent:j.o,viewScreen:j.hb},e)}}))(Ne),Be={get lxSectionName(){return Object(h.jsx)(p.Lexeme,{path:483,pathName:"bma_client@pages.profile-edit.places.section.name"})},getLxHometownTitle:function(e){return Z.a.get(480,e)},get lxResidenceTitle(){return Z.a.get(481)}},qe=n("9VdkHbit8L"),Ve=n("35vpuKlNPA"),Ue={get lxSearchNoEntries(){return Object(h.jsx)(p.Lexeme,{path:482,pathName:"bma_client@pages.profile-edit.places.search.no-entries"})}},Ge=n("JxpLN2NqSp"),ze=n("VfHEnQ/HSB"),He=n("swBs99UaA5"),Ye=n("BochhwQFYb"),We=n("mVPDbKzFiL");function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=et(e);if(t){var i=et(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Ze(this,n)}}function Ze(e,t){return!t||"object"!==Je(t)&&"function"!=typeof t?$e(e):t}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ke(e,t)}(r,e);var t,n,o,i=Qe(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)($e(t)),t.state={query:"",searchMode:!1},t.debouncedSearch=Object(Ve.debounce)(t.handleSearch,300,$e(t)),t}return t=r,(n=[{key:"componentDidUpdate",value:function(e,t){var n=this.state,o=n.query,i=n.searchMode;t.searchMode!==i&&(this.props.actions.setSearchLocations([]),i&&this.props.actions.searchLocations({query:o,context:this.props.context})),this.props.parseComponent()}},{key:"componentWillUnmount",value:function(){this.debouncedSearch.clear()}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.location,o=e.options,i=e.isLoadingOptions,r=e.isSaveLoading,a=this.state,c=a.query,l=a.searchMode;return Object(h.jsxs)(s.Fragment,{children:[!l&&Object(h.jsx)(pe.b,{label:n||t,actionIcon:Object(h.jsx)(he.c,{name:n?"generic-chevron-right-aligned":"generic-plus",size:he.b.MEDIUM}),onClick:this.handleChangeTown,isLoading:r}),l&&Object(h.jsx)(Ge.a,{search:c,hint:Ue.lxSearchNoEntries,options:this.getOptions(),onSearchTextChange:this.handleSearchTextChange,onBlur:this.handleSearchBlur,placeholderText:t,hasAutoFocus:!0,isHintVisible:!i&&void 0!==o&&0===o.length,isLoading:i})]})}},{key:"getOptions",value:function(){var e=this,t=this.props.options;return(void 0===t?[]:t).map((function(t){var n=String(t.city.id);return Object(h.jsx)(We.b,{text:t.context_info,onMouseDown:e.handleOptionSelected.bind(e,t),value:n},n)}))}},{key:"getContextElement",value:function(){switch(this.props.context){case 215:return 1185;case 216:return 1186}}},{key:"handleChangeTown",value:function(){var e=this,t=this.getContextElement();t&&this.props.hotpanel.click(t),this.props.location?this.props.actions.showDialog(ze.a,{onUpdate:this.handleUpdateTown,onRemove:this.handleRemoveTown},{onCloseDialog:function(t){t&&e.props.hotpanel.click(113,e.getContextElement())}}):this.setState({searchMode:!0})}},{key:"handleSearchTextChange",value:function(e){this.setState({query:e}),this.props.actions.setSearchLocationsLoading(!0),this.debouncedSearch(e)}},{key:"handleSearch",value:function(e){this.props.actions.searchLocations({query:e,context:this.props.context})}},{key:"handleOptionSelected",value:function(e){var t=this.props,n=t.user,o=t.context;n&&this.props.actions.saveUserTown(n.id,e,o)}},{key:"handleUpdateTown",value:function(){this.props.hotpanel.click(114,this.getContextElement()),this.setState({searchMode:!0}),this.props.actions.hideDialog()}},{key:"handleRemoveTown",value:function(){var e=this.props,t=e.user,n=e.context;this.props.hotpanel.click(1104,this.getContextElement()),t&&this.props.actions.saveUserTown(t.id,null,n),this.props.actions.hideDialog()}},{key:"handleSearchBlur",value:function(){this.setState({query:"",searchMode:!1})}}])&&Xe(t.prototype,n),o&&Xe(t,o),r}(s.Component);var nt=Object(l.d)((function(e){return{options:e.app.location.searchLocations,user:e.editProfile.profile.user,isLoadingOptions:e.app.location.isLoading}}),(function(e){return{actions:Object(u.b)({saveUserTown:Ye.b,searchLocations:He.d,setSearchLocations:He.f,setSearchLocationsLoading:He.e,showDialog:de.e,hideDialog:de.b},e),hotpanel:Object(u.b)({click:j.d},e)}}))(Object(U.lexemeParser)(tt));function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=lt(e);if(t){var i=lt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return ct(this,n)}}function ct(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?st(e):t}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ut=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(r,e);var t,n,o,i=at(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(st(t)),t}return t=r,(n=[{key:"render",value:function(){var e=this.props,t=e.user,n=e.isHometownSaveLoading,o=e.isResidenceSaveLoading;return Object(h.jsxs)(F.a,{title:Be.lxSectionName,children:[Object(h.jsx)(nt,{location:this.getLocationInfo(t&&t.residence),context:216,placeholder:Be.lxResidenceTitle,isSaveLoading:o}),Object(h.jsx)(nt,{location:this.getLocationInfo(t&&t.hometown),context:215,placeholder:Be.getLxHometownTitle({me:qe.HasGender.for("me",this.getLocalizationGender())}),isSaveLoading:n})]})}},{key:"getLocationInfo",value:function(e){return e&&e.context_info}},{key:"getLocalizationGender",value:function(){var e=this.props.user;if(e)switch(e.gender){case 1:return qe.MALE;case 2:return qe.FEMALE}return qe.UNSPECIFIED}}])&&it(t.prototype,n),o&&it(t,o),r}(s.Component);var pt=Object(l.d)((function(e){return{user:e.editProfile.profile.user,isHometownSaveLoading:e.editProfile.places.isHometownSaveLoading,isResidenceSaveLoading:e.editProfile.places.isResidenceSaveLoading}}),(function(e){return{actions:Object(u.b)({showDialog:de.e,hideDialog:de.b},e)}}))(ut);function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=yt(e);if(t){var i=yt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return vt(this,n)}}function vt(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?mt(e):t}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(r,e);var t,n,o,i=bt(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(mt(t)),t}return t=r,(n=[{key:"componentDidUpdate",value:function(){this.props.parseComponent()}},{key:"render",value:function(){return Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)(fe,{data:this.getBadges()}),Object(h.jsx)(Fe,{}),Object(h.jsx)(pt,{})]})}},{key:"getBadges",value:function(){var e=this;return this.props.options.map((function(t,n){var o=(t.inputParts||[])[0];return{label:o.name,value:o.display_value,labelMedia:o.icon_url,id:t.id,onClick:e.handleBadgeClick.bind(e,t,n)}}),this)}},{key:"handleBadgeClick",value:function(e,t){this.props.hotpanel.click(942,916,t),this.props.actions.showDialog(be.a,{initiatorScreen:271,currentId:e.id},{isLocal:!0})}}])&&ft(t.prototype,n),o&&ft(t,o),r}(s.Component);var jt=Object(l.d)(null,(function(e){return{actions:Object(u.b)({showDialog:de.e,hideDialog:de.b},e),hotpanel:Object(u.b)({click:j.d,fireEvent:j.o},e)}}))(Object(U.lexemeParser)(gt)),xt=(n("IlJM7rX6La"),n("fp7YK1lG7H"),{get lxAddFirst(){return Object(h.jsx)(p.Lexeme,{path:528,pathName:"bma_client@pages.settings.profile-edit.move-makers.add-first"})},get lxAddSecond(){return Object(h.jsx)(p.Lexeme,{path:529,pathName:"bma_client@pages.settings.profile-edit.move-makers.add-second"})},get lxAddThird(){return Object(h.jsx)(p.Lexeme,{path:530,pathName:"bma_client@pages.settings.profile-edit.move-makers.add-third"})},getLxCharsLeft:function(e){return Object(h.jsx)(p.Lexeme,{path:531,params:e,pathName:"bma_client@pages.settings.profile-edit.move-makers.chars-left"})},get lxThatsIt(){return Object(h.jsx)(p.Lexeme,{path:536,pathName:"bma_client@pages.settings.profile-edit.move-makers.thats-it"})},get lxHint1(){return Object(h.jsx)(p.Lexeme,{path:538,pathName:"bma_client@pages.settings.profile-edit.move-makers.yellow-hint-1"})},get lxHint2(){return Object(h.jsx)(p.Lexeme,{path:539,pathName:"bma_client@pages.settings.profile-edit.move-makers.yellow-hint-2"})}}),Ot=n("8JekaVitUM"),kt=n.n(Ot),wt=function(e){var t=e.id,n=e.name,o=e.placeholder,i=e.value,r=e.disabled,a=e.autoComplete,c=e.readOnly,s=e.onChange,l=e.onKeyPress,u=e.onFocus,p=e.onInput,f=e.onBlur,d=e.maxLength,b=e.isHovered,v=e.isFocused,m=e.hasAutoFocus,y=e.hasAutoHeight,g=e.hasError,j=e.height,x=e.ghostRef,O=e.symbolsLeft,k=e.qaRole,w=e.headerText,S={block:kt()({textarea:!0,"is-hovered":b,"is-focused":v,"has-error":g,"has-autoheight":y,"has-placeholder":!i,"is-disabled":r,"is-readonly":c})},C={};void 0!==j&&(C={height:j,minHeight:j-6||0});var E=void 0!==O&&O<=0;return Object(h.jsxs)("div",{className:S.block,"data-qa-role":k,children:[Object(h.jsxs)("div",{className:"textarea-headed__inner",children:[w&&Object(h.jsx)("div",{className:"textarea-headed__header",children:Object(h.jsx)("div",{className:"textarea-headed__header-text",children:Object(h.jsx)(q.e,{weight:q.j.MEDIUM,children:w})})}),Object(h.jsx)("textarea",{className:"textarea-headed__input",style:C||y?C:void 0,id:t,name:n,value:i,placeholder:o,disabled:r,readOnly:c,onChange:s,onKeyPress:l,onInput:p,onFocus:u,onBlur:f,autoComplete:a||"off",autoFocus:m,maxLength:d,dir:"auto"}),y&&Object(h.jsx)("textarea",{className:"textarea-headed__ghost","aria-hidden":!0,role:"none",ref:x},"textarea-ghost")]}),void 0!==O&&d?Object(h.jsx)("div",{className:"textarea-headed__counter",children:Object(h.jsx)(q.f,{color:E?q.h.ERROR:q.h.BLACK,children:O})}):null]})};function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Rt(e);if(t){var i=Rt(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return At(this,n)}}function At(e,t){return!t||"object"!==St(t)&&"function"!=typeof t?Pt(e):t}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Et(e,t)}(r,e);var t,n,o,i=_t(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(Pt(t)),t.ghostRef=Object(s.createRef)(),t.state={isFocused:Boolean(e.hasAutoFocus),height:0},t}return t=r,(n=[{key:"componentDidMount",value:function(){this.props.hasAutoHeight&&this.resize()}},{key:"componentDidUpdate",value:function(e){e!==this.props&&this.resize()}},{key:"render",value:function(){var e=this.props.hasAutoHeight;return Object(h.jsx)(wt,{placeholder:this.props.placeholder,value:this.props.value,headerText:this.props.headerText,maxLength:this.props.maxLength,height:e?this.state.height:this.props.height,isFocused:this.state.isFocused,hasAutoFocus:this.props.hasAutoFocus,hasAutoHeight:e,onFocus:this.handleFocus,onBlur:this.handleBlur,onInput:this.handleInput,onChange:this.props.onChange||this.handleChange,ghostRef:this.ghostRef,qaRole:this.props.qaRole})}},{key:"resize",value:function(){if(this.ghostRef&&this.ghostRef.current){var e=this.props,t=e.value,n=e.placeholder;this.ghostRef.current.value=t||n||"X";var o=this.ghostRef.current.scrollHeight;this.state.height!==o&&this.setState({height:o})}}},{key:"handleInput",value:function(e){var t=this.props.onInput;t&&t(e.target.value)}},{key:"handleChange",value:function(){}},{key:"handleFocus",value:function(){this.setState({isFocused:!0});var e=this.props.onFocus;e&&e()}},{key:"handleBlur",value:function(){this.setState({isFocused:!1});var e=this.props.onBlur;e&&e()}}])&&Ct(t.prototype,n),o&&Ct(t,o),r}(s.Component);Lt.defaultProps={hasAutoFocus:!1,hasAutoHeight:!1};var Tt=Lt,Dt=function(e){var t=e.alertText,n=e.children,o=e.hasError,i=e.isLoading,r=e.title;return Object(h.jsx)(F.a,{hasError:o,isLoading:i,notice:t,title:r,type:E.l.MOVE_MAKERS,qaRole:"profile-edit-move-makers",children:n})},It=(n("FWxfzXGGSt"),n("xMUAXvDo2A")),Mt=function(e){var t=e.dropdown,n=e.hasError,o=e.hasPlaceholder,i=e.isFilled,r=e.onClick,a=e.onActionIconClick,c=e.text,s=e.title,l=e.qaRole;return Object(h.jsx)(pe.b,{actionIcon:i?Object(h.jsx)(he.c,{name:"generic-edit",size:he.b.MEDIUM}):Object(h.jsx)(he.c,{name:"generic-plus",size:he.b.MEDIUM}),dropdown:t,hasError:n,hasPlaceholder:o,isFilled:i,label:s,onClick:r,onActionIconClick:a,text:c,qaRole:l})},Nt=n("Zi8PChfd6/"),Ft=function(e){var t=e.children,n=e.isActive,o=e.onClick,i=e.onDebouncedScroll,r=e.onMouseLeave,a=e.reference;return Object(h.jsx)(Nt.a,{isActive:n,onClick:o,onMouseLeave:r,reference:a,children:Object(h.jsx)(C.b,{type:C.a.DYNAMIC,onDebouncedScroll:i,children:t})})};function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Ht(e);if(t){var i=Ht(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Gt(this,n)}}function Gt(e,t){return!t||"object"!==Bt(t)&&"function"!=typeof t?zt(e):t}function zt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Yt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(r,e);var t,n,o,i=Ut(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(zt(t)),t.state={dropdownActive:!1},t.optionRefs=[],t}return t=r,(n=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick,!0)}},{key:"handleDocumentClick",value:function(){this.props.onDropDownClose&&this.state.dropdownActive&&(this.props.onDropDownClose(),this.setState({dropdownActive:!1}))}},{key:"render",value:function(){return Object(h.jsx)(Mt,{title:this.props.title,onClick:this.handleClick,onActionIconClick:this.handleIconClick,text:this.props.text,isFilled:this.props.isFilled,hasPlaceholder:!this.props.isFilled,dropdown:this.getDropDown(this.props.options),qaRole:this.props.qaRole})}},{key:"getDropDown",value:function(e){var t=this;return this.optionRefs=[],Object(h.jsx)(Ft,{isActive:this.state.dropdownActive,onDebouncedScroll:this.handleScroll,children:Object(h.jsx)(It.a,{children:e.map((function(e){var n=Object(s.createRef)();return t.optionRefs.push(n),Object(h.jsx)(We.b,{text:e.name,elementRef:n,isActive:t.props.activeOptionId===e.id,onClick:t.handleOptionClick.bind(t,e),styling:We.a.MULTILINE},e.id)}))})})}},{key:"handleScroll",value:function(e,t,n,o){this.props.onDropDownScroll&&this.props.onDropDownScroll(this.getMaxVisiblePosition(n,o),t)}},{key:"getMaxVisiblePosition",value:function(e,t){var n=this.optionRefs.findIndex((function(n){var o=n.current,i=o.getBoundingClientRect();return o.offsetTop+i.height>=e+t.height}));return-1===n&&(n=this.optionRefs.length-1),n-1}},{key:"handleOptionClick",value:function(e,t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),this.setState({dropdownActive:!1}),this.props.onDropDownClose&&this.props.onDropDownClose(),this.props.onOptionClick&&this.props.onOptionClick(e)}},{key:"handleClick",value:function(e){this.props.isFilled?this.props.onClick&&this.props.onClick():this.handleIconClick(e)}},{key:"handleIconClick",value:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),this.props.onDropDownClose&&this.state.dropdownActive&&this.props.onDropDownClose(),this.props.onDropDownOpen&&!this.state.dropdownActive&&this.props.onDropDownOpen(),this.setState({dropdownActive:!this.state.dropdownActive})}}])&&qt(t.prototype,n),o&&qt(t,o),r}(s.Component),Wt=n("LmewStI/8N");function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=en(e);if(t){var i=en(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Zt(this,n)}}function Zt(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?$t(e):t}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(r,e);var t,n,o,i=Qt(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)($t(t)),t}return t=r,(n=[{key:"componentDidUpdate",value:function(){this.props.parseComponent()}},{key:"render",value:function(){var e=this,t=this.props,n=t.order,o=void 0===n?[]:n,i=t.questions,r=t.editors;return Object(h.jsx)(T.a,{onElementVisible:this.handleElementVisible,children:Object(h.jsxs)(Dt,{isLoading:!this.props.isReady,children:[this.getAvailableCountAlert(),o.map((function(t,n){var o,a=i.find((function(e){return e.id===t}));if(a&&t){var c=Number(t),s=r[c];o=s&&s.isOpened?e.getTextArea(a,n):e.getQuestionCell(a,n)}else o=e.getPlaceholderCell(n);return o}))]})})}},{key:"getAvailableCountAlert",value:function(){var e=null;switch(this.props.answered.length){case 1:e=Object(h.jsx)(R.a,{text:xt.lxHint1});break;case 2:e=Object(h.jsx)(R.a,{text:xt.lxHint2})}return e}},{key:"getTextArea",value:function(e,t){var n=Number(e.id),o=this.props.editors[n],i=this.getQuestionAnswer(e);return Object(h.jsx)(V,{textArea:Object(h.jsx)(Tt,{hasAutoFocus:!0,hasAutoHeight:!0,value:i,headerText:e.name,placeholder:e.hint,maxLength:e.maxChars,onFocus:this.handleEditorFocus,onInput:this.handleEditorInput.bind(this,e)}),isActive:!!o&&o.isOpened,isSaveDisabled:void 0!==e.minChars&&i.length<e.minChars,counter:this.getCharactersLimitHint(i,e.maxChars),onClickSave:this.handleSave.bind(this,e),onClickCancel:this.handleCancel.bind(this,e)},t)}},{key:"handleEditorInput",value:function(e,t){e.id&&this.props.actions.setEditorValue(e.id,t)}},{key:"handleEditorFocus",value:function(){this.props.hotpanel.viewScreen(251),this.fireFillFormEvent(8)}},{key:"getCharactersLimitHint",value:function(e,t){return t&&e.length===t?xt.lxThatsIt:t&&t-e.length<=50?xt.getLxCharsLeft({num:t-e.length}):null}},{key:"handleSave",value:function(e){var t=this.props,n=t.userId,o=t.gameMode,i=e.id,r=Number(i),a=this.props.editors[r],c=Boolean(a.replacesId&&a.replacesId!==i);i&&this.props.actions.saveAnswer({userId:n,gameMode:o,questionId:i,value:a.value,replaceId:c?a.replacesId:void 0}),this.fireFillFormEvent(9),this.props.hotpanel.click(105),this.props.hotpanel.fireEvent({name:280,body:{question_id:r,activation_place:244,change_answer:c}}),c&&this.props.hotpanel.fireEvent({name:589,body:{question_id:Number(a.replacesId),activation_place:244,action_type:15}}),this.props.hotpanel.viewScreen(271)}},{key:"handleCancel",value:function(e){e.id&&this.props.actions.closeEditor(e.id),this.props.hotpanel.click(51),this.props.hotpanel.viewScreen(271)}},{key:"fireFillFormEvent",value:function(e){this.props.hotpanel.fireEvent({name:140,body:{field_name:72,field_type:1,form_name:32,action_type:e}})}},{key:"getQuestionCell",value:function(e,t){return Object(h.jsx)(Yt,{title:e.name,text:this.getQuestionAnswer(e),onClick:this.handleQuestionCellClick.bind(this,e,t),onOptionClick:this.handleQuestionOptionClick.bind(this,t),isFilled:!0,options:this.getAvailableQuestions(e),activeOptionId:e.id,onDropDownOpen:this.handleDropDownOpen.bind(this),onDropDownClose:this.handleDropDownClose.bind(this),onDropDownScroll:this.handleDropDownScroll.bind(this),qaRole:"profile-edit-move-makers-entry-".concat(t)},t)}},{key:"handleQuestionCellClick",value:function(e,t){this.props.hotpanel.click(934,933,t),this.props.actions.openEditor(e,t)}},{key:"handleQuestionOptionClick",value:function(e,t){this.props.hotpanel.click(934,void 0,e),this.props.actions.openEditor(t,e)}},{key:"getAvailableQuestions",value:function(e){var t=this.props.questions.filter((function(e){return!e.displayValue}));return e&&t.unshift(e),t}},{key:"handleDropDownOpen",value:function(){this.props.hotpanel.viewScreen(249)}},{key:"handleDropDownClose",value:function(){this.props.hotpanel.click(51),this.props.hotpanel.viewScreen(271)}},{key:"handleDropDownScroll",value:function(e,t){t&&this.props.hotpanel.fireEvent({name:94,body:{}}),this.props.hotpanel.fireEvent({name:316,body:{direction:5,position:e}})}},{key:"handleElementVisible",value:function(){this.props.hotpanel.viewElement(933)}},{key:"getQuestionAnswer",value:function(e){var t=e.id,n=Number(t),o=this.props.editors[n],i=e.displayValue;return o&&(i=o.value),i.replace(/^\s*/,"").replace(/\s+$/," ")}},{key:"getPlaceholderCell",value:function(e){var t=[xt.lxAddFirst,xt.lxAddSecond,xt.lxAddThird][e];return Object(h.jsx)(Yt,{title:t,text:"",isFilled:!1,options:this.getAvailableQuestions(),onOptionClick:this.handlePlaceholderOptionClick.bind(this,e),onDropDownOpen:this.handleDropDownOpen.bind(this),onDropDownClose:this.handleDropDownClose.bind(this),onDropDownScroll:this.handleDropDownScroll.bind(this)},e)}},{key:"handlePlaceholderOptionClick",value:function(e,t){this.props.hotpanel.click(81,933,e),this.props.actions.openEditor(t,e)}}])&&Xt(t.prototype,n),o&&Xt(t,o),r}(s.Component);var nn,on,rn,an=Object(l.d)((function(e){var t=e.editProfile.questions,n=t.isReady,o=t.editors,i=t.order,r=t.questions,a=t.answered;return{userId:e.user.id,gameMode:e.user.gameMode,isReady:n,editors:o,order:i,questions:r,answered:a}}),(function(e){return{actions:Object(u.b)({openEditor:Wt.c,closeEditor:Wt.a,setEditorValue:Wt.e,saveAnswer:Wt.d},e),hotpanel:Object(u.b)({click:j.d,viewScreen:j.hb,viewElement:j.bb,fireEvent:j.o},e)}}))(Object(U.lexemeParser)(tn)),cn=n("1Y4SUceG1J"),sn=n("EixI9zIxN/");function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.PRIMARY="PRIMARY",e.PHOTO_VERIFICATION="PHOTO_VERIFICATION",e.INSTAGRAM="INSTAGRAM",e.SPOTIFY="SPOTIFY"}(rn||(rn={}));var un=(ln(nn={},rn.PRIMARY,"state-pill--primary"),ln(nn,rn.PHOTO_VERIFICATION,"state-pill--photo-verify"),ln(nn,rn.INSTAGRAM,"state-pill--provider-instagram"),ln(nn,rn.SPOTIFY,"state-pill--service-spotify"),nn),pn=(ln(on={},rn.PRIMARY,void 0),ln(on,rn.PHOTO_VERIFICATION,void 0),ln(on,rn.INSTAGRAM,"generic-instagram"),ln(on,rn.SPOTIFY,"profile-badge-spotify"),on),hn=function(e){var t,n=e.title,o=e.type,i=void 0===o?rn.PRIMARY:o,r=e.isDisabled,a=e.isActive,c=e.onClick,s=e.qaRole,l=void 0===s?"state-pill":s,u=e.controlTooltip,p=kt()((ln(t={"state-pill":!0},un[i],!0),ln(t,"is-active",a),ln(t,"is-disabled",r),t)),f=pn[i];return Object(h.jsxs)("div",{className:p,onClick:c,"data-qa-role":l,"data-qa-state":a?"true":"false",children:[f&&Object(h.jsx)("div",{className:"state-pill__icon",children:Object(h.jsx)(he.c,{name:f,size:he.b.STRETCH})}),Object(h.jsx)("div",{className:"state-pill__title","data-qa-role":"state-pill-title",children:Object(h.jsx)(q.d,{weight:q.j.MEDIUM,hasEllipsis:!0,children:n})}),Object(h.jsxs)("div",{className:"state-pill__control","data-qa-role":"state-pill-control",children:[a?Object(h.jsx)(he.c,{size:he.b.STRETCH,name:"generic-check-hollow"}):Object(h.jsx)(he.c,{size:he.b.STRETCH,name:"generic-choice-hollow"}),u]})]})},fn=n("c8Ir9vob8X"),dn=function(e){var t=e.isVerified,n=e.onClick,o=e.tooltipText;return Object(h.jsx)(F.a,{type:E.l.VERIFICATION,title:M.g.lxTitle,qaRole:"settings-section-verification",children:Object(h.jsx)(hn,{title:t?M.g.lxDone:M.g.lxCta,isActive:t,isDisabled:t,onClick:t?void 0:n,type:rn.PHOTO_VERIFICATION,controlTooltip:o?Object(h.jsx)(fn.e,{isActive:!0,direction:fn.c.TOP,type:fn.d.PROMO,children:o}):null})})};function bn(e){return(bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function mn(e,t){return(mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=xn(e);if(t){var i=xn(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return gn(this,n)}}function gn(e,t){return!t||"object"!==bn(t)&&"function"!=typeof t?jn(e):t}function jn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var On=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mn(e,t)}(r,e);var t,n,o,i=yn(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(jn(t)),t}return t=r,(n=[{key:"render",value:function(){var e=this.props.isVerified;return Object(h.jsx)(T.a,{onElementVisible:this.handleElementVisible,children:Object(h.jsx)(dn,{isVerified:e,onClick:e?void 0:this.handleVerificationClick})})}},{key:"handleVerificationClick",value:function(){this.props.hotpanel.click(31),this.props.actions.showDialog(sn.a,{onComplete:this.handleVerificationSubmit,context:130}),this.props.hotpanel.startVerifyAccount(5,244,Object(cn.a)())}},{key:"handleElementVisible",value:function(){this.props.hotpanel.viewElement(31)}},{key:"handleVerificationSubmit",value:function(){this.props.hotpanel.sendVerifyAccount(5,244)}}])&&vn(t.prototype,n),o&&vn(t,o),r}(s.Component);var kn=Object(l.d)(null,(function(e){return{actions:Object(u.b)({showDialog:de.e},e),hotpanel:Object(u.b)({click:j.d,viewElement:j.bb,sendVerifyAccount:j.S,startVerifyAccount:j.V},e)}}))(On),wn=n("WxAa+Ufdl2"),Sn=n("QepjISzSQY"),Cn=n("ntQfCM9i4d"),En=n("G0oWRdRBvC"),_n=n("O+XBG/hMad"),An=n("0UP9rwQy7A"),Pn=n("mgR4peTYHw"),Rn=n("Rs5ysyOGLv"),Ln=n("aKSzwkF6JV");function Tn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dn=function(e){var t,n=e.children,o=e.cols,i=void 0===o?3:o,r=e.gap,a=void 0===r?0:r,c=e.isGridItemFitContent,l=void 0===c||c;return Object(h.jsx)("ul",{className:"grid",style:(t={},Tn(t,"--grid-gap","".concat(a,"px")),Tn(t,"--grid-column-width",l?"calc(100% / ".concat(i,")"):"auto"),t),children:s.Children.toArray(n).filter(Boolean).map((function(e,t){return Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)("li",{className:"grid__item",children:e},"grid-item-".concat(t)),0===t||(t+1)%i!=0||l?null:Object(h.jsx)("span",{className:"grid__line-break","aria-hidden":!0,role:"presentation"})]},t)}))})};function In(e){return function(e){if(Array.isArray(e))return Mn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Mn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Nn=function(e){var t=e.photos,n=void 0===t?[]:t,o=e.onEmptyClick,i=e.onProfilePreviewClick;return Object(h.jsxs)(F.a,{type:E.l.GALLERY,qaRole:"gallery-container",children:[Object(h.jsx)(Dn,{children:In(Array(6).keys()).map((function(e){if(!n[e])return Object(h.jsx)("div",{className:"profile-edit-gallery__item",onClick:function(){return o(e)},"data-qa-role":"gallery-item-placeholder",children:Object(h.jsx)("div",{className:"profile-edit-gallery__item-placeholder-icon",children:Object(h.jsx)(he.c,{name:"generic-plus",size:he.b.STRETCH})})},"placeholder-item-".concat(e));var t=n[e];return Object(h.jsxs)("div",{className:"profile-edit-gallery__item","data-qa-role":"gallery-item",children:[Object(h.jsx)(Ln.CSSTransition,{appear:!0,in:!0,timeout:300,classNames:"fade",mountOnEnter:!0,unmountOnExit:!0,children:t.photo},"transition-group-".concat(t.photoId||e)),t.onRemoveClick?Object(h.jsx)("div",{className:"profile-edit-gallery__item-remove",onClick:t.onRemoveClick,"data-qa-role":"gallery-item-remove",children:Object(h.jsx)(he.c,{name:"generic-close",size:he.b.SMALL})}):null]},"photo-item-".concat(t.photoId||e))}))}),Object(h.jsx)(N.e,{text:M.b.lxPreviewProfile,styling:N.b.CELL,isNarrow:!1,icon:Object(h.jsx)(he.c,{name:"generic-chevron-right-aligned",size:he.b.MEDIUM}),qaRole:"preview-profile-settings-control",view:N.d.ACTION,onClick:i})]})},Fn=n("SML02vdRj+"),Bn=n("Wqnk76P1tX");function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Yn(e);if(t){var i=Yn(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return zn(this,n)}}function zn(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?Hn(e):t}function Hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Wn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}(r,e);var t,n,o,i=Gn(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(Hn(t)),t}return t=r,(n=[{key:"componentDidMount",value:function(){wn.a.on(Sn.SYSTEM_NOTIFICATION,this.handleSystemNotification,this)}},{key:"componentWillUnmount",value:function(){wn.a.un(Sn.SYSTEM_NOTIFICATION,this.handleSystemNotification,this)}},{key:"render",value:function(){return Object(h.jsx)(T.a,{onElementVisible:this.handleElementVisible,children:Object(h.jsx)(Nn,{photos:this.getPhotos(),onEmptyClick:this.handleAddPhoto,onProfilePreviewClick:this.handleProfilePreviewClick})})}},{key:"getPhotos",value:function(){var e=this;return this.props.userPhotos.map((function(t,n,o){return{photoId:t.id,photo:Object(h.jsx)(Cn.a,{aspect:Rn.c,photo:t,onClick:e.handlePhotoClick.bind(e,t,n)}),onRemoveClick:n>0||o.length>1?e.handleRemoveClick.bind(e,t,n):void 0}}))}},{key:"openAddPhotoDialog",value:function(e){this.props.actions.showDialog(An.a,{initiatorScreenName:271,replacePhotoId:null==e?void 0:e.replacePhotoId})}},{key:"handlePhotoClick",value:function(e,t){var n=this.props.userPhotos,o=n.findIndex((function(t){return t===e}));this.props.actions.showDialog(En.a,{images:n,activePositionId:o}),this.props.hotpanel.clickEvent({element:21,parentElement:42,position:t})}},{key:"handleRemoveClick",value:function(e,t){this.props.hotpanel.clickEvent({element:147,parentElement:42,position:t}),this.props.actions.showDialog(_n.a,{trackingElement:925,onDeletePhoto:this.handleDeletePhoto.bind(this,e),onReplacePhoto:this.handleReplacePhoto.bind(this,e)})}},{key:"handleAddPhoto",value:function(e){this.props.hotpanel.clickEvent({element:68,parentElement:42,position:e}),this.openAddPhotoDialog()}},{key:"handleDeletePhoto",value:function(e){var t=this;e.id&&this.props.actions.deleteUserPhoto(e.id,(function(e){e&&t.props.actions.showDialog(Pn.a,{message:e.error_message||""})}))}},{key:"handleReplacePhoto",value:function(e){var t=e.id;this.openAddPhotoDialog({replacePhotoId:t})}},{key:"handleSystemNotification",value:function(e){var t=this.props.user;t&&void 0!==t.gameMode&&6===e.id&&(e.updated_user_projection||[]).some((function(e){return 310===e}))&&this.props.actions.fetchUser(t.id,t.gameMode)}},{key:"handleElementVisible",value:function(){this.props.hotpanel.viewElement(42)}},{key:"handleProfilePreviewClick",value:function(){var e=this.props.user;e&&(this.props.hotpanel.clickEvent({element:115}),this.props.actions.fetchUser(e.id),this.props.actions.showDialog(Bn.a,void 0,{allowKeyEvents:!0}))}}])&&Vn(t.prototype,n),o&&Vn(t,o),r}(s.Component);var Jn=Object(l.d)((function(e){var t,n=Object(y.j)((null===(t=e.editProfile.profile.user)||void 0===t?void 0:t.albums)||[],2);return{user:e.editProfile.profile.user,userPhotos:n}}),(function(e){return{actions:Object(u.b)({deleteUserPhoto:Fn.c,showDialog:de.e,fetchUser:Fn.e},e),hotpanel:Object(u.b)({clickEvent:j.h,viewElement:j.bb},e)}}))(Wn),Xn=(n("8cZIilOd29"),n("wCa+OCu8Tv"),n("n8dTet3wGY")),Kn=n("YNMgTg6Ie0"),Qn={getLxSelectedCount:function(e){return Object(h.jsx)(p.Lexeme,{path:77,params:e,pathName:"bma_client@bumble.editprofile.education.selectedcount"})},get lxAddLabel(){return Object(h.jsx)(p.Lexeme,{path:575,pathName:"bma_client@profile-edit.education.control.add.label"})},get lxControlTitle(){return Object(h.jsx)(p.Lexeme,{path:576,pathName:"bma_client@profile-edit.education.control.title"})}},Zn=n("N/c4h0IZyT"),$n=n("bcqwKh5c1j"),eo=function(e){var t=e.children,n=e.alertText,o=e.hasError,i=e.isLoading,r=e.controlAddLabel,a=e.onControlAddClick,c=e.title,s=e.qaRole,l=e.type;return Object(h.jsxs)(F.a,{isLoading:i,hasError:o,notice:n,title:c,type:l,qaRole:s,children:[t,Object(h.jsx)(N.e,{isNarrow:!1,styling:N.b.CELL,text:r,onClick:a,icon:Object(h.jsx)(he.c,{name:"generic-plus",size:he.b.MEDIUM}),qaRole:"".concat(s||l,"-add-button")})]})},to=function(e){var t=e.control,n=e.title,o=e.subtitle,i=e.hint,r=e.onOptionClick,a=e.onEditClick,c=e.hasError,l=e.qaRole,u=void 0===l?"settings-occupation-entry":l;return Object(h.jsx)(pe.b,{onClick:r,labelMedia:c?Object(h.jsx)(he.c,{size:he.b.MEDIUM,name:"badge-attention"}):t,label:Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)("div",{className:"settings-cell__label-text-line","data-qa-role":u?"".concat(u,"-title"):void 0,dir:"auto",children:n}),Object(h.jsx)("div",{className:"settings-cell__label-text-line","data-qa-role":u?"".concat(u,"-subtitle"):void 0,dir:"auto",children:o}),i&&Object(h.jsx)("div",{className:"settings-cell__label-text-line",dir:"auto",children:i})]}),actionIcon:Object(h.jsx)(he.c,{name:"generic-edit",size:he.b.MEDIUM}),onActionIconClick:a,hasError:c,styling:pe.a.TALL,qaRole:u})};function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var o,i,r=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return io(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function ro(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function co(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=uo(e);if(t){var i=uo(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return so(this,n)}}function so(e,t){return!t||"object"!==no(t)&&"function"!=typeof t?lo(e):t}function lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uo(e){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var po="education",ho=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}(r,e);var t,n,o,i=co(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(lo(t)),t}return t=r,(n=[{key:"componentDidMount",value:function(){this.props.isOpened&&this.fetchExperienceForm()}},{key:"componentDidUpdate",value:function(e){if(!e.isOpened&&this.props.isOpened){var t=this.props.gameMode;void 0!==t&&this.props.actions.fetchEducationExperienceForm(t)}this.props.parseComponent()}},{key:"render",value:function(){return Object(h.jsx)(T.a,{onElementVisible:this.handleElementVisible,children:Object(h.jsx)(eo,{controlAddLabel:Qn.lxAddLabel,onControlAddClick:this.handleAddExperience,isLoading:this.props.isLoading,hasAlert:this.props.hasAlert,hasError:this.hasModeratedExperience(),title:Qn.lxControlTitle,type:E.l.EDUCATION,children:this.getExperiences()})})}},{key:"getTitle",value:function(){if(this.isTitlePresent()){var e=this.props.user,t=(e&&e.educations||[]).filter((function(e){return e.selected}));if(5===this.props.gameMode)return Qn.getLxSelectedCount({num:t.length});var n=t[0];return[n.organization_name,n.period_description].filter((function(e){return Boolean(e)})).join(" ")}}},{key:"getExperiences",value:function(){var e=this,t=this.props.user,n=t&&t.educations||[];return this.props.isEducationExperienceLoaded?n.map((function(t,n){var o=oo(e.getExperienceTitles(t),3),i=o[0],r=o[1],a=o[2],c=t.id;return Object(h.jsx)(to,{title:i,subtitle:r,hint:a,onOptionClick:e.getExperienceAction(t),onEditClick:e.handleEditExperience.bind(e,t),hasError:t.moderation_failed,control:5===e.props.gameMode?Object(h.jsx)($n.c,{name:po,value:c,isActive:t.selected}):Object(h.jsx)(xe.a,{name:po,value:c,isActive:t.selected}),qaRole:"settings-education-entry-".concat(n)},"occupation-item-".concat(n))})):[]}},{key:"getExperienceTitles",value:function(e){var t=[e.organization_name,e.period_description],n=e.name;return 5===this.props.gameMode&&n&&t.unshift(n),t}},{key:"getExperienceAction",value:function(e){return e.moderation_failed?this.handleModeratedExperienceClick.bind(this,e):!e.selected||this.props.maxEducationExperiences>1?this.handleSelectExperience.bind(this,e):void 0}},{key:"isTitlePresent",value:function(){var e=this.props.user;return(e&&e.educations||[]).some((function(e){return Boolean(e.selected)}))}},{key:"fetchExperienceForm",value:function(){var e=this.props.gameMode;void 0!==e&&this.props.actions.fetchEducationExperienceForm(e)}},{key:"hasModeratedExperience",value:function(){var e=this.props.user;return(e&&e.educations||[]).some((function(e){return Boolean(e.moderation_failed)}))}},{key:"handleAddExperience",value:function(){this.props.hotpanel.click(81,1080),this.props.actions.showDialog(Xn.a,{gameMode:this.props.gameMode,initiatorScreenName:271},{isLocal:!0})}},{key:"handleEditExperience",value:function(e,t){t.stopPropagation(),this.props.hotpanel.click(145,1080),this.props.actions.showDialog(Kn.a,{experience:e,gameMode:this.props.gameMode,initiatorScreenName:271},{isLocal:!0})}},{key:"handleModeratedExperienceClick",value:function(e){this.props.hotpanel.click(607,1080),this.props.actions.showDialog(Kn.a,{experience:e,gameMode:this.props.gameMode,initiatorScreenName:271},{isLocal:!0})}},{key:"handleSelectExperience",value:function(e){var t;this.props.hotpanel.click(37,1080);var n=this.props,o=n.maxEducationExperiences,i=n.user;if(o>1){var r=(i&&i.educations||[]).filter((function(t){return t.id!==e.id&&t.selected}));t=e.selected?r:[Object.assign(Object.assign({},e),{selected:!0})].concat(r)}else t=[Object.assign(Object.assign({},e),{selected:!0})];i&&t.length<=o&&this.props.actions.selectEducation(i.id,t,this.props.gameMode)}},{key:"handleElementVisible",value:function(){this.props.hotpanel.viewElement(1080)}}])&&ro(t.prototype,n),o&&ro(t,o),r}(s.Component);var fo=Object(l.d)((function(e){return{isEducationExperienceLoaded:e.editProfile.workEducation.isEducationExperienceLoaded,maxEducationExperiences:e.editProfile.workEducation.maxEducationExperiences,gameMode:e.user.gameMode,user:e.editProfile.profile.user,isLoading:e.editProfile.workEducation.isEducationExperienceLoading}}),(function(e){return{actions:Object(u.b)({fetchEducationExperienceForm:Zn.f,selectEducation:Zn.h,showDialog:de.e},e),hotpanel:Object(u.b)({click:j.d,viewElement:j.bb},e)}}))(Object(U.lexemeParser)(ho)),bo={getLxSelectedCount:function(e){return Object(h.jsx)(p.Lexeme,{path:79,params:e,pathName:"bma_client@bumble.editprofile.occupation.selectedcount"})},getLxTitleManual:function(e){return Object(h.jsx)(p.Lexeme,{path:80,params:e,pathName:"bma_client@bumble.editprofile.work.manual.title"})},get lxAddLabel(){return Object(h.jsx)(p.Lexeme,{path:587,pathName:"bma_client@profile-edit.work.control.add.label"})},get lxControlTitle(){return Object(h.jsx)(p.Lexeme,{path:588,pathName:"bma_client@profile-edit.work.control.title"})}},vo=n("M+HOMzshbv"),mo=n("wcxMX3pAKY");function yo(e){return(yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var o,i,r=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function xo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Oo(e,t){return(Oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ko(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Co(e);if(t){var i=Co(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return wo(this,n)}}function wo(e,t){return!t||"object"!==yo(t)&&"function"!=typeof t?So(e):t}function So(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Eo="work",_o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oo(e,t)}(r,e);var t,n,o,i=ko(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(So(t)),t}return t=r,(n=[{key:"componentDidMount",value:function(){this.props.isOpened&&this.fetchExperienceForm()}},{key:"componentDidUpdate",value:function(e){!e.isOpened&&this.props.isOpened&&this.fetchExperienceForm(),this.props.parseComponent()}},{key:"render",value:function(){return Object(h.jsx)(T.a,{onElementVisible:this.handleElementVisible,children:Object(h.jsx)(eo,{controlAddLabel:bo.lxAddLabel,onControlAddClick:this.handleAddExperience,isLoading:this.props.isLoading,hasAlert:this.props.hasAlert,hasError:this.hasModeratedExperience(),title:bo.lxControlTitle,type:E.l.OCCUPATION,children:this.getExperiences()})})}},{key:"getTitle",value:function(){if(this.isTitlePresent()){var e=this.props.user,t=(e&&e.jobs||[]).filter((function(e){return e.selected}));return 5===this.props.gameMode?bo.getLxSelectedCount({num:t.length}):bo.getLxTitleManual({str_1:t[0].name,str_2:t[0].organization_name})}}},{key:"getExperiences",value:function(){var e=this,t=this.props.user,n=t&&t.jobs||[];return this.props.isWorkExperienceLoaded?n.map((function(t,n){var o=go(e.getExperienceTitles(t),3),i=o[0],r=o[1],a=o[2],c=t.id;return Object(h.jsx)(to,{title:i,subtitle:r,hint:a,onOptionClick:e.getExperienceAction(t),onEditClick:e.handleEditExperience.bind(e,t),hasError:t.moderation_failed,control:5===e.props.gameMode?Object(h.jsx)($n.c,{name:Eo,value:c,isActive:t.selected}):Object(h.jsx)(xe.a,{name:Eo,value:c,isActive:t.selected}),qaRole:"settings-occupation-entry-".concat(n)},"occupation-item-".concat(n))})):[]}},{key:"getExperienceTitles",value:function(e){var t=[e.name,e.organization_name],n=e.period_description;return 5===this.props.gameMode&&n&&t.push(n),t}},{key:"getExperienceAction",value:function(e){return e.moderation_failed?this.handleModeratedExperienceClick.bind(this,e):!e.selected||this.props.maxWorkExperiences>1?this.handleSelectExperience.bind(this,e):void 0}},{key:"isTitlePresent",value:function(){var e=this.props.user;return(e&&e.jobs||[]).some((function(e){return Boolean(e.selected)}))}},{key:"fetchExperienceForm",value:function(){this.props.actions.fetchWorkExperienceForm(this.props.gameMode)}},{key:"hasModeratedExperience",value:function(){var e=this.props.user;return(e&&e.jobs||[]).some((function(e){return Boolean(e.moderation_failed)}))}},{key:"handleAddExperience",value:function(){this.props.hotpanel.click(81,1081),this.props.actions.showDialog(vo.a,{gameMode:this.props.gameMode,initiatorScreenName:271},{isLocal:!0})}},{key:"handleEditExperience",value:function(e,t){t.stopPropagation(),this.props.hotpanel.click(145,1081),this.props.actions.showDialog(mo.a,{experience:e,gameMode:this.props.gameMode,initiatorScreenName:271},{isLocal:!0})}},{key:"handleModeratedExperienceClick",value:function(e){this.props.hotpanel.click(606,1081),this.props.actions.showDialog(mo.a,{experience:e,gameMode:this.props.gameMode,initiatorScreenName:271},{isLocal:!0})}},{key:"handleSelectExperience",value:function(e){this.props.hotpanel.click(36,1081);var t,n=this.props.maxWorkExperiences;if(n>1){var o=this.props.user,i=(o&&o.jobs||[]).filter((function(t){return t.id!==e.id&&t.selected}));t=e.selected?i:[Object.assign(Object.assign({},e),{selected:!0})].concat(i)}else t=[Object.assign(Object.assign({},e),{selected:!0})];var r=this.props.user,a=r&&r.id;a&&t.length<=n&&this.props.actions.selectJob(a,t,this.props.gameMode)}},{key:"handleElementVisible",value:function(){this.props.hotpanel.viewElement(1081)}}])&&xo(t.prototype,n),o&&xo(t,o),r}(s.Component);var Ao=Object(l.d)((function(e){return{isWorkExperienceLoaded:e.editProfile.workEducation.isWorkExperienceLoaded,maxWorkExperiences:e.editProfile.workEducation.maxWorkExperiences,gameMode:e.user.gameMode,user:e.editProfile.profile.user,isLoading:e.editProfile.workEducation.isWorkExperienceLoading}}),(function(e){return{actions:Object(u.b)({fetchWorkExperienceForm:Zn.g,selectJob:Zn.i,showDialog:de.e},e),hotpanel:Object(u.b)({click:j.d,viewElement:j.bb},e)}}))(Object(U.lexemeParser)(_o)),Po=n("xOFF+P6h8M"),Ro=n("UaxHF4Z5Xb"),Lo=n("BMB7ThUs9n"),To=n("GlURYSNR52");function Do(e,t,n){return function(o){var i={context:121,type:3,external_provider_details:{provider_id:e},verify_for_user:t};new Lo.d(262,i).onResponse(263,(function(){Object(To.b)(2e3).then((function(){o(Object(Fn.e)(t,n))}))})).request()}}function Io(e,t){return function(n){new Lo.d(264,{verification_type:3,external_provider_type:12}).onResponse(265,(function(){n(Object(Fn.e)(e,t))})).request()}}function Mo(e,t,n){return function(o){var i={context:12,provider_id:e,provider_type:29,natively_authenticated:!1,acquired_permissions:["user-top-read"]};new Lo.d(376,i).onResponse(387,(function(){Object(To.b)(2e3).then((function(){o(Object(Fn.e)(t,n))}))})).request()}}function No(e,t,n){return function(o){var i={context:12,provider_id:e,type:29};new Lo.d(533,i).onResponse(387,(function(){o(Object(Fn.e)(t,n))})).request()}}var Fo=n("BxYxMdSB6q");function Bo(e){return function(e){if(Array.isArray(e))return qo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return qo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qo(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var Vo=function(e){var t=e.photos,n=void 0===t?[]:t,o=e.isConnected,i=e.onEmptyWidgetClick,r=e.onTitleClick,a=e.hint;return Object(h.jsx)(F.a,{type:E.l.INSTAGRAM,hint:o?void 0:a,state:{"is-connected":o},heading:Object(h.jsx)(hn,{title:o?M.d.lxConTitle:M.d.lxNotConTitle,isActive:o,onClick:r,type:rn.INSTAGRAM}),children:Object(h.jsx)(Dn,{gap:8,children:o?n.map((function(e){return Object(h.jsx)(Fo.b,{variant:Fo.a.ROUNDED,children:e})})):Bo(Array(3).keys()).map((function(e){return Object(h.jsx)("span",{className:"grid__item-placeholder",onClick:i,children:Object(h.jsx)("span",{className:"grid__item-placeholder-icon",children:Object(h.jsx)(he.c,{name:"generic-plus",size:he.b.STRETCH})})},"".concat(e))}))})})};function Uo(e){return(Uo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function zo(e,t){return(zo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ho(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Jo(e);if(t){var i=Jo(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Yo(this,n)}}function Yo(e,t){return!t||"object"!==Uo(t)&&"function"!=typeof t?Wo(e):t}function Wo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jo(e){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xo="CONNECTED",Ko="DISCONNECTED",Qo="TOKEN_REVOKED",Zo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zo(e,t)}(r,e);var t,n,o,i=Ho(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(Wo(t)),t.externalAuthEvent=new Ro.a,t}return t=r,(n=[{key:"componentDidUpdate",value:function(){this.props.parseComponent()}},{key:"componentWillUnmount",value:function(){Po.a.un(this.externalAuthEvent,this.handleExternalAuthAction)}},{key:"render",value:function(){var e=this.props.user,t=e&&Object(y.e)(e.albums||[]),n=t&&t.album_blocker,o=n&&n.buttons&&n.buttons.find((function(e){return 13===e.action})),i=this.getServiceStatus(n,o);return Object(h.jsx)(T.a,{onElementVisible:this.handleElementVisible,children:Object(h.jsx)(Vo,{isConnected:i===Xo,photos:t?this.getPhotos(t):[],onEmptyWidgetClick:this.handleEmptyIconClick.bind(this,i),onTitleClick:this.handleTitleClick.bind(this,i),hint:n&&n.mssg})})}},{key:"getPhotos",value:function(e){var t=this,n=e.photos;return n?n.map((function(e,n){return Object(h.jsx)(Cn.a,{aspect:Rn.c,photo:e,onClick:t.handlePhotoClick.bind(t,e,n)},e.id)})):[]}},{key:"getServiceStatus",value:function(e,t){if(e){var n=e.promo_block_type;if(112===n&&t)return Qo;if(111===n)return Ko}return Xo}},{key:"getInstagramMethod",value:function(){var e=this.props.user,t=e&&e.verifiedInformation;return(t&&t.methods||[]).find((function(e){return 3===e.type&&void 0!==e.external_provider_data&&12===e.external_provider_data.type}))}},{key:"handlePhotoClick",value:function(e,t){var n=this.props.user,o=n&&Object(y.e)(n.albums||[]),i=o&&o.photos||[],r=i.findIndex((function(t){return t===e}));this.props.actions.showDialog(En.a,{images:i,activePositionId:r}),this.props.hotpanel.click(20,44,t)}},{key:"handleEmptyIconClick",value:function(e){this.props.hotpanel.click(122,44),this.processInstagramAction(e)}},{key:"handleTitleClick",value:function(e){this.props.hotpanel.click(48,44),this.processInstagramAction(e)}},{key:"processInstagramAction",value:function(e){if(e===Xo){var t=this.props,n=t.user,o=t.actions,i=this.getInstagramMethod();n&&i&&i.allow_unlink&&o.disconnectInstagramAccount(n.id,n.gameMode),this.props.hotpanel.sendRevokePermission(9,244)}else this.connectInstagramAccount()}},{key:"connectInstagramAccount",value:function(){var e=this.getInstagramMethod();if(e){var t=e.external_provider_data,n=t&&t.auth_data;if(t&&this.externalAuthEvent.setExternalProviderId(t.id),Po.a.on(this.externalAuthEvent,this.handleExternalAuthAction),t&&n){var o=n.oauth_url;window.open(o,"auth","width=600,height=600")}}}},{key:"handleExternalAuthAction",value:function(){Po.a.un(this.externalAuthEvent,this.handleExternalAuthAction);var e=this.props.user,t=this.externalAuthEvent.getExternalProviderId();e&&t&&this.props.actions.connectInstagramAccount(t,e.id,e.gameMode),this.props.hotpanel.sendRequestPermission(9,!0,244)}},{key:"handleElementVisible",value:function(){this.props.hotpanel.viewElement(44)}}])&&Go(t.prototype,n),o&&Go(t,o),r}(s.Component);var $o=Object(l.d)((function(e){return{user:e.editProfile.profile.user}}),(function(e){return{actions:Object(u.b)({connectInstagramAccount:Do,disconnectInstagramAccount:Io,showDialog:de.e},e),hotpanel:Object(u.b)({click:j.d,sendRequestPermission:j.O,sendRevokePermission:j.P,viewElement:j.bb},e)}}))(Object(U.lexemeParser)(Zo)),ei=n("66tPG3PKCx");function ti(e){return function(e){if(Array.isArray(e))return ni(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ni(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var oi=function(e){var t=e.artists,n=void 0===t?[]:t,o=e.isConnected,i=e.onEmptyWidgetClick,r=e.onTitleClick,a=e.hint;return Object(h.jsx)(F.a,{type:E.l.SPOTIFY,hint:o?null:a,heading:Object(h.jsx)(hn,{title:o?M.f.lxConTitle:M.f.lxNotConTitle,isActive:o,onClick:r,type:rn.SPOTIFY}),children:o?Object(h.jsx)(ei.b,{list:n,styling:ei.a.BIG_PHOTO}):Object(h.jsx)(Dn,{gap:8,children:ti(Array(3).keys()).map((function(e){return Object(h.jsx)("span",{className:"grid__item-placeholder",onClick:i,children:Object(h.jsx)("span",{className:"grid__item-placeholder-icon",children:Object(h.jsx)(he.c,{name:"generic-plus",size:he.b.STRETCH})})},"".concat(e))}))})})};function ii(e){return(ii="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ri(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ai(e,t){return(ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ci(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=ui(e);if(t){var i=ui(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return si(this,n)}}function si(e,t){return!t||"object"!==ii(t)&&"function"!=typeof t?li(e):t}function li(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pi="CONNECTED",hi="IN_PROGRESS",fi="DISCONNECTED",di=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ai(e,t)}(r,e);var t,n,o,i=ci(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(li(t)),t.externalAuthEvent=new Ro.a,t}return t=r,(n=[{key:"componentDidMount",value:function(){wn.a.on(Sn.SYSTEM_NOTIFICATION,this.handleSystemNotification,this)}},{key:"componentDidUpdate",value:function(){this.props.parseComponent()}},{key:"componentWillUnmount",value:function(){wn.a.un(Sn.SYSTEM_NOTIFICATION,this.handleSystemNotification,this),Po.a.un(this.externalAuthEvent,this.handleExternalAuthAction)}},{key:"render",value:function(){var e=this.props.user,t=e&&Object(y.h)(e.musicServices||[]);return Object(h.jsx)(T.a,{onElementVisible:this.handleElementVisible,children:Object(h.jsx)(oi,{artists:this.getArtists(),isConnected:this.isServiceConnected(t),onTitleClick:this.handleTitleClick.bind(this,t),onEmptyWidgetClick:this.handleEmptyIconClick.bind(this,t),hint:t&&t.status_comment})})}},{key:"getArtists",value:function(){var e=this.props.user;return(e&&Object(y.i)(e.musicServices||[])||[]).map((function(e){return{name:e.name,photoUrl:e.large_image_url}}))}},{key:"getServiceStatus",value:function(e){if(e){var t=e.status;if(2===t)return pi;if(1===t)return hi}return fi}},{key:"isServiceConnected",value:function(e){var t=this.getServiceStatus(e);return t===pi||t===hi}},{key:"handleEmptyIconClick",value:function(e){this.props.hotpanel.click(1079,193),this.processSpotifyAction(e)}},{key:"handleTitleClick",value:function(e){this.props.hotpanel.click(1078,193),this.processSpotifyAction(e)}},{key:"processSpotifyAction",value:function(e){var t=this.props.user,n=e&&e.external_provider,o=n&&n.id;t&&this.isServiceConnected(e)?(o&&this.props.actions.disconnectSpotifyAccount(o,t.id,t.gameMode),this.props.hotpanel.sendRevokePermission(43,244)):this.connectSpotifyAccount()}},{key:"connectSpotifyAccount",value:function(){var e=this.props.user,t=e&&Object(y.h)(e.musicServices||[]);if(t){var n=t.external_provider,o=n&&n.id;o&&this.externalAuthEvent.setExternalProviderId(o),Po.a.on(this.externalAuthEvent,this.handleExternalAuthAction);var i=n&&n.auth_data,r=i&&i.oauth_url;window.open(r,"auth","width=600,height=600")}}},{key:"handleExternalAuthAction",value:function(){Po.a.un(this.externalAuthEvent,this.handleExternalAuthAction);var e=this.props.user,t=this.externalAuthEvent.getExternalProviderId();e&&t&&this.props.actions.connectSpotifyAccount(t,e.id,e.gameMode),this.props.hotpanel.sendRequestPermission(43,!0,244)}},{key:"handleSystemNotification",value:function(e){var t=this.props.user;void 0!==(null==t?void 0:t.gameMode)&&6===e.id&&(e.updated_user_projection||[]).some((function(e){return 380===e}))&&this.props.actions.fetchUser(t.id,t.gameMode)}},{key:"handleElementVisible",value:function(){this.props.hotpanel.viewElement(193)}}])&&ri(t.prototype,n),o&&ri(t,o),r}(s.Component);var bi=Object(l.d)((function(e){return{user:e.editProfile.profile.user}}),(function(e){return{actions:Object(u.b)({fetchUser:Fn.e,connectSpotifyAccount:Mo,disconnectSpotifyAccount:No},e),hotpanel:Object(u.b)({click:j.d,sendRequestPermission:j.O,sendRevokePermission:j.P,viewElement:j.bb},e)}}))(Object(U.lexemeParser)(di));function vi(e){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mi(e){return function(e){if(Array.isArray(e))return yi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yi(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function gi(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ji(e,t){return(ji=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=wi(e);if(t){var i=wi(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return Oi(this,n)}}function Oi(e,t){return!t||"object"!==vi(t)&&"function"!=typeof t?ki(e):t}function ki(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wi(e){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Si=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ji(e,t)}(r,e);var t,n,o,i=xi(r);function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=i.call(this,e),Object(b.a)(ki(t)),t.state={activeSections:t.getDefaultActiveSections(),viewedSections:new Set},t}return t=r,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.userId,n=e.gameMode;this.props.actions.fetchUser(t,n),void 0!==n&&this.props.actions.fetchEditProfileForm(n),this.props.hotpanel.viewScreen(271)}},{key:"componentWillUnmount",value:function(){this.props.actions.cleanProfileState()}},{key:"render",value:function(){var e=Object(v.a)(this.props.gameMode);return e?Object(h.jsx)(A,{isLoading:this.props.isLoading,gameMode:e,onClickClose:this.handleClose,children:this.props.isProfileLoaded&&this.props.user?this.getContent():null}):null}},{key:"getContent",value:function(){return Object(h.jsxs)(s.Fragment,{children:[Object(h.jsx)(Jn,{}),this.renderVerificationSection(),this.renderQuestionsSection(),this.renderAboutSection(),this.renderOccupationSection(),this.renderBasicInfoSection(),this.renderLinkedAccountsSection()]})}},{key:"renderVerificationSection",value:function(){var e=Object(m.i)(this.props.verifiedInformation),t=null;if(e){var n=Object(m.k)(e)===m.h.VERIFIED;t=Object(h.jsx)(kn,{isVerified:n})}return t}},{key:"renderAboutSection",value:function(){var e=this.props.user,t=this.props.options.reduce((function(e,t){return t.type&&(e[t.type]=t),e}),{}),n=t[23],o=e&&5===e.gameMode,i=t[2],r=this.isHeadlineAlertRequired(n),a=this.state.activeSections.has(d.a)||r&&!this.state.viewedSections.has(d.a);return Object(h.jsxs)(P.a,{onClick:this.handleSectionClick.bind(null,d.a,a),isOpened:a,title:f.lxTitleAbout,qaRole:"settings-section-about",children:[o&&n&&Object(h.jsx)(ue,{option:n}),i&&Object(h.jsx)(Q,{option:i,title:o&&n?i.name:void 0})]})}},{key:"renderBasicInfoSection",value:function(){var e=this.props.options.filter((function(e){return 25===e.type})),t=this.state.activeSections.has(d.b);return e.length?Object(h.jsx)(P.a,{onClick:this.handleSectionClick.bind(null,d.b,t),isOpened:t,title:f.lxTitleInfo,qaRole:"settings-section-basic-info",children:Object(h.jsx)(jt,{options:e})}):null}},{key:"hasModeratedExperience",value:function(){var e=this.props.user,t=e&&e.educations||[];return(e&&e.jobs||[]).concat(t).some((function(e){return Boolean(e.moderation_failed)}))}},{key:"renderOccupationSection",value:function(){var e=this.props.options.reduce((function(e,t){return t.type&&(e[t.type]=t),e}),{})[23],t=this.isWorkAlertRequired(e),n=this.state.activeSections.has(d.d)||t&&!this.state.viewedSections.has(d.d);return Object(h.jsxs)(P.a,{onClick:this.handleSectionClick.bind(null,d.d,n),isOpened:n,title:f.lxTitleWork,hasError:this.hasModeratedExperience(),qaRole:"settings-section-work-education",children:[t?Object(h.jsx)(R.a,{text:f.lxAlertEmpty}):null,Object(h.jsx)(Ao,{hasAlert:t,isOpened:n}),Object(h.jsx)(fo,{hasAlert:t,isOpened:n})]})}},{key:"renderLinkedAccountsSection",value:function(){var e=this.props.user,t=Object(y.e)((null==e?void 0:e.albums)||[]),n=Object(y.h)((null==e?void 0:e.musicServices)||[]),o=this.state.activeSections.has(d.c);return t||n?Object(h.jsxs)(P.a,{onClick:this.handleSectionClick.bind(null,d.c,o),isOpened:o,title:f.lxTitleLinked,qaRole:"settings-section-linked-accounts",children:[t?Object(h.jsx)($o,{}):null,n?Object(h.jsx)(bi,{}):null]}):null}},{key:"renderQuestionsSection",value:function(){var e=this.state.activeSections.has(d.e);return Object(h.jsx)(P.a,{onClick:this.handleSectionClick.bind(null,d.e,e),isOpened:e,title:f.lxMoveMakers,description:this.getQuestionsSubtitle(),qaRole:"settings-section-questions",children:Object(h.jsx)(an,{})})}},{key:"getDefaultActiveSections",value:function(){var e=new Set,t=Object(g.a)(this.props.location.search)[d.f];return t&&e.add(t),e}},{key:"getQuestionsSubtitle",value:function(){var e=this.props,t=e.user,n=void 0;switch(e.questionsAnswered.length){case 0:n=f.lxSubtitle0;break;case 2:n=f.lxSubtitle2;break;case 3:n=t&&5===t.gameMode?f.lxSubtitle3bizz:f.lxSubtitle3}return n}},{key:"handleSectionClick",value:function(e,t){var n=new Set;t||n.add(e),this.setState({activeSections:n,viewedSections:new Set(this.state.viewedSections).add(e)})}},{key:"handleClose",value:function(){this.props.actions.toggleSidebarExtra()}},{key:"isHeadlineAlertRequired",value:function(e){var t=this.props.user;return t&&5===t.gameMode&&Boolean(e&&e.minChars&&e.displayValue.length<e.minChars)}},{key:"isWorkAlertRequired",value:function(e){var t,n=this.props.user,o=[],i=[];return n&&(o=n.educations?mi(n.educations):[],i=n.jobs?mi(n.jobs):[],t=n.gameMode),5===t&&Boolean(e&&e.displayValue)&&0===o.length&&0===i.length}}])&&gi(t.prototype,n),o&&gi(t,o),r}(s.Component);t.default=Object(l.d)((function(e){var t=e.editProfile.profile,n=t.isProfileLoaded,o=t.options,i=t.user,r=e.editProfile.questions.answered;return{isProfileLoaded:n,options:o,user:i,userId:e.user.id,gameMode:e.user.gameMode,verifiedInformation:e.user.verifiedInformation,isLoading:!n||!i,questionsAnswered:r}}),(function(e){return{actions:Object(u.b)({fetchEditProfileForm:Fn.d,fetchUser:Fn.e,cleanProfileState:Fn.a,toggleSidebarExtra:x.e},e),hotpanel:Object(u.b)({viewScreen:j.hb},e)}}))(Si)},wXXpwsGWjr:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return p}));var o=n("n6dFYfBoFk"),i=n("oYCi4R4rJs"),r={get lxPreviewProfile(){return Object(i.jsx)(o.Lexeme,{path:485,pathName:"bma_client@pages.profile-edit.section.gallery.preview_profile"})}},a={get lxCancelCta(){return Object(i.jsx)(o.Lexeme,{path:557,pathName:"bma_client@profile-edit.about-me.cancel.cta",children:"Cancel"})},get lxSaveCta(){return Object(i.jsx)(o.Lexeme,{path:560,pathName:"bma_client@profile-edit.about-me.save.cta",children:"Save"})}},c={get lxCancelCta(){return Object(i.jsx)(o.Lexeme,{path:557,pathName:"bma_client@profile-edit.about-me.cancel.cta",children:"Cancel"})},get lxSaveCta(){return Object(i.jsx)(o.Lexeme,{path:560,pathName:"bma_client@profile-edit.about-me.save.cta",children:"Save"})}},s={get lxConTitle(){return Object(i.jsx)(o.Lexeme,{path:580,pathName:"bma_client@profile-edit.instagram.connected.title",children:"Instagram connected"})},get lxNotConTitle(){return Object(i.jsx)(o.Lexeme,{path:581,pathName:"bma_client@profile-edit.instagram.not-connected.title",children:"Connect your Instagram"})}},l={get lxLogout(){return Object(i.jsx)(o.Lexeme,{path:523,pathName:"bma_client@pages.settings.logout",children:"Log out"})},get lxDeleteAcc(){return Object(i.jsx)(o.Lexeme,{path:504,pathName:"bma_client@pages.settings.delete-account",children:"Delete account"})}},u={get lxConTitle(){return Object(i.jsx)(o.Lexeme,{path:583,pathName:"bma_client@profile-edit.spotify.connected.title",children:"Spotify Connected"})},get lxNotConTitle(){return Object(i.jsx)(o.Lexeme,{path:584,pathName:"bma_client@profile-edit.spotify.not-connected.title",children:"Connect your Spotify"})}},p={get lxTitle(){return Object(i.jsx)(o.Lexeme,{path:489,pathName:"bma_client@pages.profile-edit.verification.title",children:"Verification"})},get lxDone(){return Object(i.jsx)(o.Lexeme,{path:586,pathName:"bma_client@profile-edit.verification.done",children:"Account Verified"})},get lxCta(){return Object(i.jsx)(o.Lexeme,{path:585,pathName:"bma_client@profile-edit.verification.cta",children:"Verify Your Account"})}}}}]);